<!doctype html>
<html lang="ar" dir="rtl">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>مقياس صعوبات الذاكرة</title>

        <!-- Tailwind (Play CDN) -->
        <script src="https://cdn.tailwindcss.com"></script>

        <!-- خط القاهرة -->
        <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet" />

        <style>
            body {
                font-family:
                    'Cairo',
                    system-ui,
                    -apple-system,
                    Segoe UI,
                    Roboto,
                    'Helvetica Neue',
                    Arial,
                    'Noto Sans',
                    'Apple Color Emoji',
                    'Segoe UI Emoji',
                    'Segoe UI Symbol';
            }
            @media print {
                .print\:hidden {
                    display: none !important;
                }
                body {
                    background: white !important;
                }
            }
        </style>
    </head>
    <body class="bg-gradient-to-br from-blue-50 via-white to-blue-50">
        <div id="root"></div>

        <!-- React + ReactDOM + Babel (JSX runtime) -->
        <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
        <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

        <script type="text/babel">
            // ========= أيقونات SVG بديلة =========
            const ArrowRight = ({ className = 'w-6 h-6' }) => (
                <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <path strokeLinecap="round" strokeLinejoin="round" d="m9 5 7 7-7 7" />
                </svg>
            );
            const ArrowLeft = ({ className = 'w-6 h-6' }) => (
                <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <path strokeLinecap="round" strokeLinejoin="round" d="m15 19-7-7 7-7" />
                </svg>
            );
            const CheckCircle = ({ className = 'w-12 h-12' }) => (
                <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <path d="M22 11.08V12A10 10 0 1 1 12 2a9.95 9.95 0 0 1 7.07 2.93" />
                    <path d="m22 4-12 12-3-3" />
                </svg>
            );
            const DownloadIcon = ({ className = 'w-6 h-6' }) => (
                <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                    <path d="M7 10l5 5 5-5" />
                    <path d="M12 15V3" />
                </svg>
            );

            // ========= التطبيق =========
            const { useState } = React;

            function MemoryAssessmentScale() {
                const [currentPage, setCurrentPage] = useState(1);
                const [studentInfo, setStudentInfo] = useState({
                    name: '',
                    age: '',
                    grade: '',
                    school: '',
                    gender: '',
                    assessorName: '',
                    assessorPosition: '',
                    assessmentDate: '',
                    sessions: ''
                });
                const [responses, setResponses] = useState({});

                const questions = [
                    'يجد صعوبة ملموسة في حفظ وتذكر أشكال الحروف والكلمات',
                    'يعاني من تشتت واضطراب في تذكر المعلومات اللفظية',
                    'سعة الاستيعاب أو الاحتفاظ لديه ضئيلة',
                    'يجد صعوبة في تذكر ما يسمع أو يقرأ',
                    'يجد صعوبة في تذكر ما يشاهده أو يسمعه خلال فترات وجيزة',
                    'يجد صعوبة في حفظ المعلومات والأشكال واسترجاعها',
                    'يجد صعوبات في التحصيل الأكاديمي لمعظم المجالات الدراسية',
                    'يجد صعوبة في تذكر أو استرجاع ما يسمع أو يقرأ',
                    'يجد صعوبة في الاحتفاظ بالمعلومات ومعالجتها ذهنياً',
                    'يجد صعوبة في استرجاع أو تذكر الرسوم والجداول والأماكن',
                    'يجد صعوبة في استرجاع الأرقام والأعداد والمعلومات والقواعد',
                    'يصعب عليه حفظ التعليمات التي يشاهدها أو يسمعها لمدة وجيزة',
                    'يجد صعوبة في تذكر ما يطلب منه من واجبات مدرسية',
                    'يجد صعوبات في تذكر الأحداث أو المواقف الحياتية واليومية',
                    'يجد صعوبة في حفظ تتابع أو ترتيب المعلومات أو المهارات',
                    'يفشل في تذكر الآليات والاستراتيجيات المناسبة للموقف المشكل',
                    'يجد صعوبات في تذكر النصوص أو القصائد الأكاديمية أو الدراسية',
                    'يجد صعوبة في تذكر ترتيب الشهور أو تذكر جدول الضرب',
                    'يفشل في حفظ حقائق أو قوانين أو قواعد الرياضيات وعلاقاتها',
                    'يفشل في الاحتفاظ بما سبق تعلمه وإعادة استخدامه أو توظيفه'
                ];

                const options = [
                    { value: 4, label: 'دائماً', color: 'bg-red-500' },
                    { value: 3, label: 'غالباً', color: 'bg-orange-500' },
                    { value: 2, label: 'أحياناً', color: 'bg-yellow-500' },
                    { value: 1, label: 'نادراً', color: 'bg-blue-400' },
                    { value: 0, label: 'لا تنطبق', color: 'bg-gray-400' }
                ];

                const calculateResults = () => {
                    const total = Object.values(responses).reduce((sum, val) => sum + val, 0);
                    let severity = '';
                    let percentile = 0;
                    let diagnosis = '';

                    if (total <= 20) {
                        severity = 'عادي - لا توجد صعوبة';
                        percentile = 0;
                        diagnosis = 'لا يوجد احتمال لوجود صعوبة تعلم في الذاكرة';
                    } else if (total <= 40) {
                        severity = 'صعوبات خفيفة';
                        percentile = 25;
                        diagnosis = 'يحتمل وجود صعوبات خفيفة في الذاكرة تحتاج إلى متابعة';
                    } else if (total <= 60) {
                        severity = 'صعوبات متوسطة';
                        percentile = 50;
                        diagnosis = 'يوجد صعوبات متوسطة في الذاكرة تحتاج إلى تدخل متخصص';
                    } else {
                        severity = 'صعوبات شديدة';
                        percentile = 75;
                        diagnosis = 'يوجد صعوبات شديدة في الذاكرة تحتاج إلى تدخل عاجل ومكثف';
                    }

                    return { total, severity, percentile, diagnosis };
                };

                const handlePrint = () => window.print();

                const isPageValid = () => {
                    if (currentPage === 1) {
                        return studentInfo.name && studentInfo.age && studentInfo.grade && studentInfo.gender && studentInfo.assessorName && studentInfo.assessmentDate;
                    }
                    if (currentPage === 3) {
                        return Object.keys(responses).length === 20;
                    }
                    return true;
                };

                // ===== الصفحة 1: البيانات الأساسية =====
                const WelcomePage = () => (
                    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex items-center justify-center p-8">
                        <div className="max-w-4xl w-full bg-white rounded-3xl shadow-2xl p-12 text-center">
                            <div className="mb-8">
                                <div className="w-24 h-24 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-6 text-white">
                                    <CheckCircle />
                                </div>
                                <h1 className="text-5xl font-bold text-blue-900 mb-4">مقياس التقدير التشخيصي</h1>
                                <h2 className="text-3xl font-semibold text-blue-700 mb-6">لصعوبات الذاكرة</h2>
                                <div className="w-32 h-1 bg-blue-600 mx-auto mb-8"></div>
                            </div>

                            <div className="bg-blue-50 rounded-2xl p-8 mb-8">
                                <h3 className="text-2xl font-bold text-blue-900 mb-6">البيانات الأساسية</h3>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6 text-right">
                                    {[
                                        { key: 'name', label: 'اسم الطفل *', placeholder: 'أدخل الاسم الثلاثي' },
                                        { key: 'age', label: 'العمر *', placeholder: 'السنوات' },
                                        { key: 'grade', label: 'الصف الدراسي *', placeholder: 'مثال: الصف الثالث' },
                                        { key: 'school', label: 'المدرسة', placeholder: 'اسم المدرسة' }
                                    ].map((f) => (
                                        <div key={f.key}>
                                            <label className="block text-blue-900 font-semibold mb-2">{f.label}</label>
                                            <input
                                                type="text"
                                                value={studentInfo[f.key]}
                                                onChange={(e) => setStudentInfo({ ...studentInfo, [f.key]: e.target.value })}
                                                className="w-full p-3 border-2 border-blue-300 rounded-lg focus:border-blue-600 focus:outline-none"
                                                placeholder={f.placeholder}
                                            />
                                        </div>
                                    ))}

                                    <div>
                                        <label className="block text-blue-900 font-semibold mb-2">الجنس *</label>
                                        <select
                                            value={studentInfo.gender}
                                            onChange={(e) => setStudentInfo({ ...studentInfo, gender: e.target.value })}
                                            className="w-full p-3 border-2 border-blue-300 rounded-lg focus:border-blue-600 focus:outline-none"
                                        >
                                            <option value="">اختر الجنس</option>
                                            <option value="ذكر">ذكر</option>
                                            <option value="أنثى">أنثى</option>
                                        </select>
                                    </div>

                                    <div>
                                        <label className="block text-blue-900 font-semibold mb-2">عدد الحصص</label>
                                        <input
                                            type="text"
                                            value={studentInfo.sessions}
                                            onChange={(e) => setStudentInfo({ ...studentInfo, sessions: e.target.value })}
                                            className="w-full p-3 border-2 border-blue-300 rounded-lg focus:border-blue-600 focus:outline-none"
                                            placeholder="اختياري"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-blue-900 font-semibold mb-2">اسم الأخصائي *</label>
                                        <input
                                            type="text"
                                            value={studentInfo.assessorName}
                                            onChange={(e) => setStudentInfo({ ...studentInfo, assessorName: e.target.value })}
                                            className="w-full p-3 border-2 border-blue-300 rounded-lg focus:border-blue-600 focus:outline-none"
                                            placeholder="اسم القائم بالتقييم"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-blue-900 font-semibold mb-2">الوظيفة</label>
                                        <input
                                            type="text"
                                            value={studentInfo.assessorPosition}
                                            onChange={(e) => setStudentInfo({ ...studentInfo, assessorPosition: e.target.value })}
                                            className="w-full p-3 border-2 border-blue-300 rounded-lg focus:border-blue-600 focus:outline-none"
                                            placeholder="المسمى الوظيفي"
                                        />
                                    </div>

                                    <div className="md:col-span-2">
                                        <label className="block text-blue-900 font-semibold mb-2">تاريخ التقييم *</label>
                                        <input
                                            type="date"
                                            value={studentInfo.assessmentDate}
                                            onChange={(e) => setStudentInfo({ ...studentInfo, assessmentDate: e.target.value })}
                                            className="w-full p-3 border-2 border-blue-300 rounded-lg focus:border-blue-600 focus:outline-none"
                                        />
                                    </div>
                                </div>
                            </div>

                            <button
                                onClick={() => isPageValid() && setCurrentPage(2)}
                                disabled={!isPageValid()}
                                className={`${isPageValid() ? 'bg-blue-600 hover:bg-blue-700' : 'bg-gray-400'} text-white px-12 py-4 rounded-full text-xl font-bold transition-all flex items-center gap-3 mx-auto`}
                            >
                                <span>التالي</span>
                                <ArrowLeft />
                            </button>
                        </div>
                    </div>
                );

                // ===== الصفحة 2: التعليمات =====
                const InstructionsPage = () => (
                    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 p-8">
                        <div className="max-w-5xl mx-auto bg-white rounded-3xl shadow-2xl p-12">
                            <h2 className="text-4xl font-bold text-blue-900 text-center mb-8">التعليمات وطريقة الاستخدام</h2>

                            <div className="space-y-6 text-right">
                                <div className="bg-blue-50 rounded-2xl p-6">
                                    <h3 className="text-2xl font-bold text-blue-900 mb-4">🎯 الهدف من المقياس</h3>
                                    <p className="text-lg text-gray-700 leading-relaxed">يهدف هذا المقياس إلى الكشف عن التلاميذ ذوي صعوبات التعلم في الذاكرة، من خلال تقييم مدى تواتر الخصائص السلوكية المرتبطة باضطرابات الذاكرة.</p>
                                </div>

                                <div className="bg-green-50 rounded-2xl p-6">
                                    <h3 className="text-2xl font-bold text-green-900 mb-4">📋 ما المقصود بصعوبات الذاكرة؟</h3>
                                    <p className="text-lg text-gray-700 leading-relaxed">ضعف أو قصور القدرة على حفظ المعلومات والمعارف والتواريخ والأحداث والاحتفاظ بها وتذكرها أو استرجاعها.</p>
                                </div>

                                <div className="bg-yellow-50 rounded-2xl p-6">
                                    <h3 className="text-2xl font-bold text-yellow-900 mb-4">⚠️ ملاحظات مهمة</h3>
                                    <ul className="space-y-3 text-lg text-gray-700">
                                        <li className="flex items-start gap-3">
                                            <span className="text-yellow-600 font-bold">•</span>
                                            <span>معرفتك الجيدة بالطفل ضرورية للاستخدام الصحيح للمقياس</span>
                                        </li>
                                        <li className="flex items-start gap-3">
                                            <span className="text-yellow-600 font-bold">•</span>
                                            <span>يجب تكرار ملاحظة الخصائص السلوكية لضمان دقة التقييم</span>
                                        </li>
                                        <li className="flex items-start gap-3">
                                            <span className="text-yellow-600 font-bold">•</span>
                                            <span>يستغرق التقييم من 15 إلى 20 دقيقة للطفل الواحد</span>
                                        </li>
                                        <li className="flex items-start gap-3">
                                            <span className="text-yellow-600 font-bold">•</span>
                                            <span>لا تقم بتقييم أكثر من 6 تلاميذ في جلسة واحدة</span>
                                        </li>
                                    </ul>
                                </div>

                                <div className="bg-purple-50 rounded-2xl p-6">
                                    <h3 className="text-2xl font-bold text-purple-900 mb-4">📝 طريقة الاستجابة</h3>
                                    <p className="text-lg text-gray-700 mb-4">اقرأ كل فقرة بعناية واختر التقدير الأنسب من بين الخيارات الخمسة:</p>
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                                        {options.map((option, idx) => (
                                            <div key={idx} className="flex items-center gap-3 bg-white p-3 rounded-lg">
                                                <div className={`w-6 h-6 ${option.color} rounded`}></div>
                                                <span className="font-bold text-gray-800">{option.label}</span>
                                                <span className="text-gray-600">({option.value} نقاط)</span>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                <div className="bg-red-50 rounded-2xl p-6">
                                    <h3 className="text-2xl font-bold text-red-900 mb-4">🎓 معايير التشخيص</h3>
                                    <div className="space-y-2 text-lg text-gray-700">
                                        <p>
                                            <strong>0-20 درجة:</strong> عادي - لا توجد صعوبة
                                        </p>
                                        <p>
                                            <strong>21-40 درجة:</strong> صعوبات خفيفة
                                        </p>
                                        <p>
                                            <strong>41-60 درجة:</strong> صعوبات متوسطة
                                        </p>
                                        <p>
                                            <strong>61 فأكثر:</strong> صعوبات شديدة
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div className="flex justify-between mt-10">
                                <button onClick={() => setCurrentPage(1)} className="bg-gray-500 hover:bg-gray-600 text-white px-10 py-4 rounded-full text-xl font-bold flex items-center gap-3">
                                    <ArrowRight />
                                    <span>السابق</span>
                                </button>
                                <button onClick={() => setCurrentPage(3)} className="bg-blue-600 hover:bg-blue-700 text-white px-10 py-4 rounded-full text-xl font-bold flex items-center gap-3">
                                    <span>ابدأ التقييم</span>
                                    <ArrowLeft />
                                </button>
                            </div>
                        </div>
                    </div>
                );

                // ===== الصفحة 3: الأسئلة =====
                const QuestionsPage = () => (
                    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 p-8">
                        <div className="max-w-6xl mx-auto bg-white rounded-3xl shadow-2xl p-8">
                            <div className="mb-8">
                                <h2 className="text-4xl font-bold text-blue-900 text-center mb-4">تقييم الخصائص السلوكية</h2>
                                <div className="bg-blue-100 rounded-xl p-4 text-center">
                                    <p className="text-lg text-blue-900">
                                        <strong>التلميذ:</strong> {studentInfo.name} |<strong> الصف:</strong> {studentInfo.grade} |<strong> الأسئلة المكتملة:</strong> {Object.keys(responses).length}/20
                                    </p>
                                </div>
                            </div>

                            <div className="space-y-6">
                                {questions.map((question, index) => (
                                    <div key={index} className="bg-gray-50 rounded-2xl p-6 hover:shadow-lg transition-shadow">
                                        <div className="mb-4">
                                            <span className="inline-block bg-blue-600 text-white px-4 py-2 rounded-full font-bold text-lg mb-3">السؤال {index + 1}</span>
                                            <p className="text-xl text-gray-800 font-semibold text-right">{question}</p>
                                        </div>

                                        <div className="grid grid-cols-2 md:grid-cols-5 gap-3">
                                            {options.map((option) => (
                                                <button
                                                    key={option.value}
                                                    onClick={() => setResponses({ ...responses, [index]: option.value })}
                                                    className={`p-4 rounded-xl font-bold text-white transition-all ${responses[index] === option.value ? `${option.color} scale-105 shadow-lg` : 'bg-gray-300 hover:bg-gray-400'}`}
                                                >
                                                    {option.label}
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                ))}
                            </div>

                            <div className="flex justify-between mt-10">
                                <button onClick={() => setCurrentPage(2)} className="bg-gray-500 hover:bg-gray-600 text-white px-10 py-4 rounded-full text-xl font-bold flex items-center gap-3">
                                    <ArrowRight />
                                    <span>السابق</span>
                                </button>
                                <button
                                    onClick={() => isPageValid() && setCurrentPage(4)}
                                    disabled={!isPageValid()}
                                    className={`${isPageValid() ? 'bg-green-600 hover:bg-green-700' : 'bg-gray-400'} text-white px-10 py-4 rounded-full text-xl font-bold flex items-center gap-3`}
                                >
                                    <span>عرض النتيجة</span>
                                    <ArrowLeft />
                                </button>
                            </div>
                        </div>
                    </div>
                );

                // ===== الصفحة 4: النتائج =====
                const ResultsPage = () => {
                    const results = calculateResults();
                    return (
                        <div className="min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 p-8">
                            <div className="max-w-5xl mx-auto bg-white rounded-3xl shadow-2xl p-12">
                                <div className="text-center mb-10">
                                    <h2 className="text-5xl font-bold text-blue-900 mb-4">التقرير التشخيصي</h2>
                                    <div className="w-32 h-1 bg-blue-600 mx-auto"></div>
                                </div>

                                <div className="bg-gradient-to-r from-blue-100 to-blue-50 rounded-2xl p-8 mb-8">
                                    <h3 className="text-3xl font-bold text-blue-900 mb-6 text-center">البيانات الأساسية</h3>
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4 text-right">
                                        {[
                                            ['اسم الطفل', studentInfo.name || '—'],
                                            ['العمر', studentInfo.age ? `${studentInfo.age} سنة` : '—'],
                                            ['الصف الدراسي', studentInfo.grade || '—'],
                                            ['الجنس', studentInfo.gender || '—'],
                                            ['المدرسة', studentInfo.school || 'غير محدد'],
                                            ['تاريخ التقييم', studentInfo.assessmentDate || '—'],
                                            ['اسم الأخصائي', studentInfo.assessorName || '—'],
                                            ['الوظيفة', studentInfo.assessorPosition || 'غير محدد']
                                        ].map(([k, v], i) => (
                                            <div key={i} className="bg-white rounded-xl p-4">
                                                <p className="text-gray-600">{k}</p>
                                                <p className="text-xl font-bold text-blue-900">{v}</p>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                <div className="bg-gradient-to-r from-purple-100 to-purple-50 rounded-2xl p-8 mb-8">
                                    <h3 className="text-3xl font-bold text-purple-900 mb-6 text-center">النتائج الكمية</h3>
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div className="bg-white rounded-xl p-6 text-center">
                                            <p className="text-gray-600 mb-2">الدرجة الخام الكلية</p>
                                            <p className="text-6xl font-bold text-blue-900">{results.total}</p>
                                            <p className="text-gray-500 mt-2">من 80 درجة</p>
                                        </div>
                                        <div className="bg-white rounded-xl p-6 text-center">
                                            <p className="text-gray-600 mb-2">الدرجة المئينية</p>
                                            <p className="text-6xl font-bold text-purple-900">{results.percentile}</p>
                                            <p className="text-gray-500 mt-2">المئوية</p>
                                        </div>
                                    </div>
                                </div>

                                <div className={`rounded-2xl p-8 mb-8 ${results.total <= 20 ? 'bg-green-100' : results.total <= 40 ? 'bg-yellow-100' : results.total <= 60 ? 'bg-orange-100' : 'bg-red-100'}`}>
                                    <h3
                                        className="text-3xl font-bold mb-4 text-center"
                                        style={{
                                            color: results.total <= 20 ? '#065f46' : results.total <= 40 ? '#92400e' : results.total <= 60 ? '#c2410c' : '#991b1b'
                                        }}
                                    >
                                        التشخيص
                                    </h3>
                                    <div className="text-center mb-6">
                                        <span
                                            className={`inline-block px-8 py-4 rounded-full text-2xl font-bold ${
                                                results.total <= 20 ? 'bg-green-600' : results.total <= 40 ? 'bg-yellow-600' : results.total <= 60 ? 'bg-orange-600' : 'bg-red-600'
                                            } text-white`}
                                        >
                                            {results.severity}
                                        </span>
                                    </div>
                                    <p
                                        className="text-xl text-center font-semibold"
                                        style={{
                                            color: results.total <= 20 ? '#065f46' : results.total <= 40 ? '#92400e' : results.total <= 60 ? '#c2410c' : '#991b1b'
                                        }}
                                    >
                                        {results.diagnosis}
                                    </p>
                                </div>

                                <div className="bg-blue-50 rounded-2xl p-8 mb-8">
                                    <h3 className="text-3xl font-bold text-blue-900 mb-6 text-center">التوصيات والمتابعة</h3>
                                    <div className="space-y-4 text-right">
                                        {results.total <= 20 ? (
                                            <>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-green-600">
                                                    <p className="text-lg text-gray-800">✓ الطفل يتمتع بقدرات ذاكرة طبيعية</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-green-600">
                                                    <p className="text-lg text-gray-800">✓ الاستمرار في الأنشطة التعليمية العادية</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-green-600">
                                                    <p className="text-lg text-gray-800">✓ تعزيز مهارات الذاكرة بأنشطة تفاعلية</p>
                                                </div>
                                            </>
                                        ) : results.total <= 40 ? (
                                            <>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-yellow-600">
                                                    <p className="text-lg text-gray-800">• إعادة التقييم بعد 3 أشهر للمتابعة</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-yellow-600">
                                                    <p className="text-lg text-gray-800">• استخدام استراتيجيات تعلم بصرية وسمعية متنوعة</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-yellow-600">
                                                    <p className="text-lg text-gray-800">• تقسيم المعلومات إلى أجزاء صغيرة سهلة الحفظ</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-yellow-600">
                                                    <p className="text-lg text-gray-800">• التواصل مع ولي الأمر لمتابعة التقدم المنزلي</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-yellow-600">
                                                    <p className="text-lg text-gray-800">• استخدام التكرار والمراجعة الدورية</p>
                                                </div>
                                            </>
                                        ) : results.total <= 60 ? (
                                            <>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-orange-600">
                                                    <p className="text-lg text-gray-800">• التحويل لأخصائي صعوبات التعلم للتقييم الشامل</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-orange-600">
                                                    <p className="text-lg text-gray-800">• وضع خطة تعليمية فردية (IEP)</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-orange-600">
                                                    <p className="text-lg text-gray-800">• جلسات تدريبية لتحسين مهارات الذاكرة</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-orange-600">
                                                    <p className="text-lg text-gray-800">• استخدام وسائل مساعدة وتقنيات حديثة</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-orange-600">
                                                    <p className="text-lg text-gray-800">• تنسيق مع الأسرة لتطبيق الاستراتيجيات بالمنزل</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-orange-600">
                                                    <p className="text-lg text-gray-800">• متابعة شهرية وتعديل الخطة</p>
                                                </div>
                                            </>
                                        ) : (
                                            <>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-red-600">
                                                    <p className="text-lg text-gray-800">• تدخل عاجل ومكثف من فريق متعدد التخصصات</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-red-600">
                                                    <p className="text-lg text-gray-800">• فحوصات طبية ونفسية شاملة</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-red-600">
                                                    <p className="text-lg text-gray-800">• برنامج تأهيلي مكثف (جلسات يومية/شبه يومية)</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-red-600">
                                                    <p className="text-lg text-gray-800">• خطة تعليمية فردية مع تعديلات جوهرية</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-red-600">
                                                    <p className="text-lg text-gray-800">• استشارة طبيب أعصاب وأخصائي نفسي</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-red-600">
                                                    <p className="text-lg text-gray-800">• دعم نفسي واجتماعي للطفل والأسرة</p>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-r-4 border-red-600">
                                                    <p className="text-lg text-gray-800">• متابعة أسبوعية دقيقة وتقييم مستمر</p>
                                                </div>
                                            </>
                                        )}
                                    </div>
                                </div>

                                <div className="bg-gray-50 rounded-2xl p-8 mb-8">
                                    <h3 className="text-3xl font-bold text-gray-900 mb-6 text-center">تفاصيل الاستجابات</h3>
                                    <div className="grid grid-cols-2 md:grid-cols-5 gap-4 mb-6">
                                        {options.map((option) => {
                                            const count = Object.values(responses).filter((v) => v === option.value).length;
                                            return (
                                                <div key={option.value} className="bg-white rounded-xl p-4 text-center">
                                                    <div className={`w-12 h-12 ${option.color} rounded-full mx-auto mb-2`}></div>
                                                    <p className="font-bold text-gray-800">{option.label}</p>
                                                    <p className="text-2xl font-bold text-blue-900">{count}</p>
                                                    <p className="text-sm text-gray-600">سؤال</p>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>

                                <div className="bg-amber-50 rounded-2xl p-6 mb-8 border-2 border-amber-300">
                                    <h3 className="text-2xl font-bold text-amber-900 mb-4 text-center">⚠️ ملاحظة مهمة</h3>
                                    <p className="text-lg text-gray-700 text-center leading-relaxed">
                                        هذا المقياس أداة مساعدة للكشف المبدئي ولا يغني عن التشخيص الشامل من قبل فريق متخصص. يُنصح باستشارة أخصائي صعوبات التعلم للحصول على تقييم دقيق وخطة علاجية مناسبة.
                                    </p>
                                </div>

                                <div className="flex justify-center gap-6">
                                    <button
                                        onClick={() => {
                                            setCurrentPage(1);
                                            setResponses({});
                                        }}
                                        className="bg-gray-500 hover:bg-gray-600 text-white px-10 py-4 rounded-full text-xl font-bold flex items-center gap-3"
                                    >
                                        <span>تقييم جديد</span>
                                    </button>
                                    <button onClick={handlePrint} className="bg-blue-600 hover:bg-blue-700 text-white px-10 py-4 rounded-full text-xl font-bold flex items-center gap-3">
                                        <DownloadIcon />
                                        <span>طباعة التقرير</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    );
                };

                return (
                    <div className="font-cairo" dir="rtl">
                        {currentPage === 1 && <WelcomePage />}
                        {currentPage === 2 && <InstructionsPage />}
                        {currentPage === 3 && <QuestionsPage />}
                        {currentPage === 4 && <ResultsPage />}
                    </div>
                );
            }

            function App() {
                return <MemoryAssessmentScale />;
            }

            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(<App />);
        </script>
    </body>
</html>
