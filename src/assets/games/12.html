<!doctype html>
<html lang="ar" dir="rtl">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>ŸÑÿπÿ®ÿ© ÿ™ÿ±ŸÉŸäÿ≤ ÿßŸÑÿßŸÜÿ™ÿ®ÿßŸá ÿßŸÑÿ≥ŸÖÿπŸä</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: 'Arial', sans-serif;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                min-height: 100vh;
                display: flex;
                justify-content: center;
                align-items: center;
                color: #333;
            }

            .game-container {
                background: white;
                border-radius: 20px;
                padding: 30px;
                box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
                max-width: 900px;
                width: 95%;
                text-align: center;
            }

            .game-header {
                margin-bottom: 30px;
            }

            .game-title {
                font-size: 2.5em;
                color: #4a69bd;
                margin-bottom: 15px;
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            }

            .level-info {
                display: flex;
                justify-content: space-between;
                align-items: center;
                background: linear-gradient(45deg, #ffeaa7, #fab1a0);
                padding: 15px 25px;
                border-radius: 15px;
                margin-bottom: 20px;
            }

            .stars {
                display: flex;
                gap: 5px;
            }

            .star {
                font-size: 2em;
                color: #ddd;
                transition: all 0.3s ease;
            }

            .star.filled {
                color: #f39c12;
                transform: scale(1.1);
            }

            .progress-bar {
                background: #ecf0f1;
                height: 10px;
                border-radius: 5px;
                overflow: hidden;
                margin: 20px 0;
            }

            .progress-fill {
                background: linear-gradient(45deg, #00b894, #00cec9);
                height: 100%;
                width: 0%;
                transition: width 0.5s ease;
            }

            .main-card {
                background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
                border-radius: 20px;
                padding: 30px;
                margin: 30px 0;
                border: 3px solid #fd79a8;
            }

            .main-image {
                width: 150px;
                height: 150px;
                background: white;
                border-radius: 15px;
                margin: 0 auto 20px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 4em;
                cursor: pointer;
                transition: transform 0.3s ease;
                border: 3px solid #fd79a8;
            }

            .main-image:hover {
                transform: scale(1.05);
            }

            .main-text {
                font-size: 2.5em;
                color: #2d3436;
                font-weight: bold;
                margin-bottom: 20px;
                cursor: pointer;
                transition: color 0.3s ease;
            }

            .main-text:hover {
                color: #fd79a8;
            }

            .letter-display {
                font-size: 5em;
                color: #e17055;
                font-weight: bold;
                background: white;
                width: 150px;
                height: 150px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin: 0 auto 20px;
                border: 5px solid #e17055;
                box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            }

            .choices-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 20px;
                margin: 30px 0;
            }

            .choice-item {
                background: linear-gradient(135deg, #74b9ff, #0984e3);
                color: white;
                padding: 20px;
                border-radius: 15px;
                cursor: pointer;
                transition: all 0.3s ease;
                border: none;
                font-size: 1.5em;
                font-weight: bold;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            }

            .choice-item:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            }

            .choice-item.correct {
                background: linear-gradient(135deg, #00b894, #00cec9);
                animation: correctAnswer 0.6s ease;
            }

            .choice-item.wrong {
                background: linear-gradient(135deg, #e84393, #fd79a8);
                animation: wrongAnswer 0.6s ease;
            }

            @keyframes correctAnswer {
                0% {
                    transform: scale(1);
                }
                50% {
                    transform: scale(1.1);
                }
                100% {
                    transform: scale(1);
                }
            }

            @keyframes wrongAnswer {
                0% {
                    transform: translateX(0);
                }
                25% {
                    transform: translateX(-10px);
                }
                75% {
                    transform: translateX(10px);
                }
                100% {
                    transform: translateX(0);
                }
            }

            .character {
                position: fixed;
                bottom: 20px;
                right: 20px;
                font-size: 4em;
                animation: bounce 2s infinite;
            }

            @keyframes bounce {
                0%,
                20%,
                50%,
                80%,
                100% {
                    transform: translateY(0);
                }
                40% {
                    transform: translateY(-20px);
                }
                60% {
                    transform: translateY(-10px);
                }
            }

            .next-btn {
                background: linear-gradient(135deg, #fd79a8, #fdcb6e);
                color: white;
                border: none;
                padding: 15px 30px;
                font-size: 1.5em;
                border-radius: 25px;
                cursor: pointer;
                margin-top: 20px;
                transition: all 0.3s ease;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            }

            .next-btn:hover {
                transform: translateY(-3px);
                box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            }

            .celebration {
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                font-size: 8em;
                animation: celebrate 1s ease;
                pointer-events: none;
            }

            @keyframes celebrate {
                0% {
                    transform: translate(-50%, -50%) scale(0);
                    opacity: 0;
                }
                50% {
                    transform: translate(-50%, -50%) scale(1.2);
                    opacity: 1;
                }
                100% {
                    transform: translate(-50%, -50%) scale(1);
                    opacity: 0;
                }
            }

            .word-missing {
                font-size: 2.5em;
                color: #2d3436;
                font-weight: bold;
                margin: 20px 0;
            }

            .missing-letter {
                color: #e74c3c;
                text-decoration: underline;
            }

            .start-screen {
                text-align: center;
            }

            .start-btn {
                background: linear-gradient(135deg, #00b894, #00cec9);
                color: white;
                border: none;
                padding: 20px 40px;
                font-size: 2em;
                border-radius: 25px;
                cursor: pointer;
                margin: 20px;
                transition: all 0.3s ease;
                box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            }

            .start-btn:hover {
                transform: translateY(-5px);
                box-shadow: 0 12px 25px rgba(0, 0, 0, 0.4);
            }
        </style>
    </head>
    <body>
        <div class="game-container">
            <div class="game-header">
                <h1 class="game-title">üéØ ÿ™ÿ±ŸÉŸäÿ≤ ÿßŸÑÿßŸÜÿ™ÿ®ÿßŸá ÿßŸÑÿ≥ŸÖÿπŸä üéØ</h1>
                <div class="level-info">
                    <div>
                        <strong>ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ: <span id="currentLevel">1</span></strong>
                        <br />
                        <small>ÿßŸÑÿµŸÅÿ≠ÿ©: <span id="currentPage">1</span> ŸÖŸÜ 5</small>
                    </div>
                    <div class="stars" id="stars">
                        <span class="star">‚≠ê</span>
                        <span class="star">‚≠ê</span>
                        <span class="star">‚≠ê</span>
                        <span class="star">‚≠ê</span>
                        <span class="star">‚≠ê</span>
                    </div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>

            <div class="main-card" id="mainCard">
                <div class="start-screen">
                    <div style="font-size: 4em; margin-bottom: 20px">üåü</div>
                    <h2 style="color: #2d3436; margin-bottom: 20px">ÿ£ŸáŸÑÿßŸã ÿ®ŸÉ ŸÅŸä ŸÑÿπÿ®ÿ© ÿ™ÿ±ŸÉŸäÿ≤ ÿßŸÑÿßŸÜÿ™ÿ®ÿßŸá ÿßŸÑÿ≥ŸÖÿπŸä!</h2>
                    <p style="font-size: 1.3em; color: #636e72; margin-bottom: 20px">ÿ≥ŸÜÿ™ÿπŸÑŸÖ ŸÖÿπÿßŸã ÿßŸÑÿ≠ÿ±ŸàŸÅ ŸàÿßŸÑŸÉŸÑŸÖÿßÿ™ ÿ®ÿ∑ÿ±ŸäŸÇÿ© ŸÖŸÖÿ™ÿπÿ© ŸàŸÖÿ¥ŸàŸÇÿ©</p>
                    <div style="margin-bottom: 20px">
                        <button class="choice-item" onclick="testSound()" style="font-size: 1.2em; background: linear-gradient(135deg, #fd79a8, #fdcb6e)">üîä ÿßÿÆÿ™ÿ®ÿ± ÿßŸÑÿµŸàÿ™</button>
                    </div>
                    <button class="start-btn" onclick="startGame()">üéÆ ÿßÿ®ÿØÿ£ ÿßŸÑŸÑÿπÿ®</button>
                </div>
            </div>

            <div class="choices-container" id="choicesContainer">
                <!-- ÿßŸÑÿÆŸäÿßÿ±ÿßÿ™ ÿ≥ÿ™ÿ∏Ÿáÿ± ŸáŸÜÿß -->
            </div>

            <button class="next-btn" id="nextBtn" style="display: none">ÿßŸÑÿ™ÿßŸÑŸä</button>
        </div>

        <div class="character" id="character">üê∞</div>

        <script>
            // ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÑÿπÿ®ÿ©
            const gameData = {
                level1: [
                    { letter: 'ÿ®', words: ['ŸÇŸÖÿ±', 'ÿ®ÿ∑ÿ©', 'ŸÖÿßÿ°', 'ÿ®Ÿäÿ™', 'ÿ®ÿ±ÿ™ŸÇÿßŸÑ'], correct: ['ÿ®ÿ∑ÿ©', 'ÿ®Ÿäÿ™', 'ÿ®ÿ±ÿ™ŸÇÿßŸÑ'] },
                    { letter: 'ŸÖ', words: ['ŸÉÿ™ÿßÿ®', 'ŸÖÿßÿ°', 'ŸÇŸÑŸÖ', 'ŸÖŸÅÿ™ÿßÿ≠', 'ŸÖŸàÿ≤'], correct: ['ŸÖÿßÿ°', 'ŸÖŸÅÿ™ÿßÿ≠', 'ŸÖŸàÿ≤'] },
                    { letter: 'ŸÜ', words: ['Ÿàÿ±ÿØ', 'ŸÜÿ¨ŸÖÿ©', 'ÿ¥ŸÖÿ≥', 'ŸÜŸÖŸÑÿ©', 'ŸÜÿßÿ±'], correct: ['ŸÜÿ¨ŸÖÿ©', 'ŸÜŸÖŸÑÿ©', 'ŸÜÿßÿ±'] },
                    { letter: 'ÿ≥', words: ['ÿ®ÿ≠ÿ±', 'ÿ≥ŸÖŸÉ', 'ŸÅŸäŸÑ', 'ÿ≥Ÿäÿßÿ±ÿ©', 'ÿ≥ŸÑŸÖ'], correct: ['ÿ≥ŸÖŸÉ', 'ÿ≥Ÿäÿßÿ±ÿ©', 'ÿ≥ŸÑŸÖ'] },
                    { letter: 'ŸÅ', words: ['ÿ≠ÿµÿßŸÜ', 'ŸÅŸäŸÑ', 'ŸÇÿ∑ÿ©', 'ŸÅÿ±ÿßÿ¥ÿ©', 'ŸÅÿ¨ŸÑ'], correct: ['ŸÅŸäŸÑ', 'ŸÅÿ±ÿßÿ¥ÿ©', 'ŸÅÿ¨ŸÑ'] }
                ],
                level2: [
                    { image: 'üåü', word: 'ŸÜÿ¨ŸÖÿ©', choices: ['ŸÖ', 'ŸÜ', 'ÿµ', 'ÿ¨', 'ŸÉ'], correct: 'ŸÜ' },
                    { image: 'üçé', word: 'ÿ™ŸÅÿßÿ≠ÿ©', choices: ['ŸÅ', 'ÿ™', 'ÿ®', 'ÿ≠', 'ÿ≥'], correct: 'ÿ™' },
                    { image: 'üê±', word: 'ŸÇÿ∑ÿ©', choices: ['ÿ∑', 'ŸÇ', 'ŸÖ', 'ÿ©', 'ŸÑ'], correct: 'ŸÇ' },
                    { image: 'üå∫', word: 'Ÿàÿ±ÿØÿ©', choices: ['ÿ±', 'Ÿà', 'ŸÜ', 'ÿØ', 'ÿπ'], correct: 'Ÿà' },
                    { image: 'ü¶Å', word: 'ÿ£ÿ≥ÿØ', choices: ['ÿ≥', 'ÿ£', 'ŸÅ', 'ÿØ', 'ÿ≠'], correct: 'ÿ£' }
                ],
                level3: [
                    { image: 'üö™', word: 'ÿ®ÿßÿ®', missingLetter: 'ÿß', wordWithMissing: 'ÿ®_ÿ®', choices: ['Ÿà', 'ÿß', 'ÿ©', 'Ÿä', 'ŸÜ'] },
                    { image: 'üêü', word: 'ÿ≥ŸÖŸÉ', missingLetter: 'ŸÖ', wordWithMissing: 'ÿ≥_ŸÉ', choices: ['ŸÜ', 'ŸÖ', 'ÿ±', 'ŸÑ', 'ÿ™'] },
                    { image: 'üåô', word: 'ŸÇŸÖÿ±', missingLetter: 'ŸÇ', wordWithMissing: '_ŸÖÿ±', choices: ['ŸÅ', 'ŸÇ', 'ÿ¨', 'ŸÉ', 'ÿ≠'] },
                    { image: 'üè†', word: 'ÿ®Ÿäÿ™', missingLetter: 'Ÿä', wordWithMissing: 'ÿ®_ÿ™', choices: ['Ÿà', 'Ÿä', 'ÿ©', 'ÿß', 'ŸÜ'] },
                    { image: 'üå∏', word: 'Ÿàÿ±ÿØ', missingLetter: 'ÿ±', wordWithMissing: 'Ÿà_ÿØ', choices: ['ŸÑ', 'ÿ±', 'ŸÖ', 'ŸÜ', 'ÿ™'] }
                ]
            };

            let currentLevel = 1;
            let currentPage = 1;
            let score = 0;
            let isAnswered = false;
            let gameStarted = false;
            let correctAnswersFound = []; // ŸÑÿ™ÿ™ÿ®ÿπ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™ ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ© ÿßŸÑŸÑŸä ÿßÿ™ŸÑŸÇÿ™

            // ÿØÿßŸÑÿ© ŸÑÿ•ÿ∏Ÿáÿßÿ± ÿßŸÑÿ±ÿ≥ÿßÿ¶ŸÑ ÿßŸÑÿ™ÿ¥ÿ¨ŸäÿπŸäÿ©
            function showMessage(text, isCorrect = true) {
                const messageDiv = document.createElement('div');
                messageDiv.style.cssText = `
                position: fixed;
                top: 30%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: ${isCorrect ? 'linear-gradient(135deg, #00b894, #00cec9)' : 'linear-gradient(135deg, #e84393, #fd79a8)'};
                color: white;
                padding: 20px 30px;
                border-radius: 15px;
                font-size: 2.2em;
                font-weight: bold;
                z-index: 1000;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                animation: messageShow 0.5s ease;
            `;
                messageDiv.textContent = text;
                document.body.appendChild(messageDiv);

                // ŸÇÿ±ÿßÿ°ÿ© ÿßŸÑÿ±ÿ≥ÿßŸÑÿ©
                speakText(text);

                setTimeout(() => {
                    if (document.body.contains(messageDiv)) {
                        document.body.removeChild(messageDiv);
                    }
                }, 1500);
            }

            // ÿ•ÿ∂ÿßŸÅÿ© CSS ŸÑŸÑÿ£ŸÜŸäŸÖŸäÿ¥ŸÜ
            const style = document.createElement('style');
            style.textContent = `
            @keyframes messageShow {
                0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
                50% { transform: translate(-50%, -50%) scale(1.1); opacity: 1; }
                100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            }
        `;
            document.head.appendChild(style);

            // ŸÖÿ™ÿ∫Ÿäÿ± ŸÑŸÑÿ™ÿ≠ŸÉŸÖ ŸÅŸä ÿßŸÑÿµŸàÿ™
            let audioContextInitialized = false;
            let audioContext = null;

            // ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑÿµŸàÿ™ ÿπŸÜÿØ ÿ£ŸàŸÑ ÿ™ŸÅÿßÿπŸÑ
            function initAudio() {
                if (!audioContextInitialized) {
                    try {
                        audioContext = new (window.AudioContext || window.webkitAudioContext)();
                        audioContextInitialized = true;
                    } catch (e) {
                        console.log('ŸÑÿß ŸäŸÖŸÉŸÜ ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑÿµŸàÿ™');
                    }
                }
            }

            // ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑÿ£ÿµŸàÿßÿ™
            function playSound(type) {
                initAudio();

                if (!audioContext) {
                    // ÿ≠ŸÑ ÿ®ÿØŸäŸÑ ÿ®ÿØŸàŸÜ ÿµŸàÿ™ - ŸÅŸÇÿ∑ ÿßŸáÿ™ÿ≤ÿßÿ≤ ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸÖÿ™ÿßÿ≠
                    if (navigator.vibrate) {
                        if (type === 'correct') {
                            navigator.vibrate([100, 50, 100]);
                        } else {
                            navigator.vibrate(200);
                        }
                    }
                    return;
                }

                try {
                    if (audioContext.state === 'suspended') {
                        audioContext.resume();
                    }

                    if (type === 'correct') {
                        // ÿµŸàÿ™ ÿßŸÑÿ¨ŸÑŸäÿ™ÿ± - ŸÜÿ∫ŸÖÿßÿ™ ÿ≥ÿπŸäÿØÿ©
                        setTimeout(() => playTone(523, 0.15), 0); // Do
                        setTimeout(() => playTone(659, 0.15), 80); // Mi
                        setTimeout(() => playTone(784, 0.2), 160); // Sol
                    } else if (type === 'wrong') {
                        // ÿµŸàÿ™ ÿßŸÑÿ®ÿßÿ≤ - ŸÜÿ∫ŸÖÿ© ŸÖŸÜÿÆŸÅÿ∂ÿ©
                        playBuzz(150, 0.4);
                    }
                } catch (e) {
                    console.log('ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑÿµŸàÿ™:', e);
                }
            }

            function playTone(frequency, duration) {
                if (!audioContext) return;

                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                oscillator.frequency.value = frequency;
                oscillator.type = 'sine';

                gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.3, audioContext.currentTime + 0.01);
                gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + duration);

                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + duration);
            }

            function playBuzz(frequency, duration) {
                if (!audioContext) return;

                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                oscillator.frequency.value = frequency;
                oscillator.type = 'square';

                gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.2, audioContext.currentTime + 0.01);
                gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + duration);

                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + duration);
            }

            // ÿØÿßŸÑÿ© ŸÑŸÇÿ±ÿßÿ°ÿ© ÿßŸÑŸÜÿµŸàÿµ (ŸÑŸÑÿµŸàÿ± ŸàÿßŸÑÿßÿÆÿ™Ÿäÿßÿ±ÿßÿ™)
            function speakText(text) {
                if (!text) return;

                try {
                    if ('speechSynthesis' in window) {
                        speechSynthesis.cancel();

                        setTimeout(() => {
                            const utterance = new SpeechSynthesisUtterance(text);
                            utterance.lang = 'ar-SA';
                            utterance.rate = 0.8;
                            utterance.pitch = 1.1;
                            utterance.volume = 1.0;

                            speechSynthesis.speak(utterance);
                        }, 100);
                    }
                } catch (e) {
                    // ÿ™ÿ¨ÿßŸáŸÑ ÿßŸÑÿ£ÿÆÿ∑ÿßÿ° ÿ®ÿØŸàŸÜ ÿ±ÿ≥ÿßÿ¶ŸÑ ŸÉŸàŸÜÿ≥ŸàŸÑ
                }
            }

            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÜÿ¨ŸàŸÖ
            function updateStars() {
                const stars = document.querySelectorAll('.star');
                stars.forEach((star, index) => {
                    if (index < score) {
                        star.classList.add('filled');
                    } else {
                        star.classList.remove('filled');
                    }
                });
            }

            // ÿ™ÿ≠ÿØŸäÿ´ ÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿ™ŸÇÿØŸÖ
            function updateProgress() {
                const progressFill = document.getElementById('progressFill');
                const totalPages = 15; // 5 ÿµŸÅÿ≠ÿßÿ™ √ó 3 ŸÖÿ≥ÿ™ŸàŸäÿßÿ™
                const currentPageGlobal = (currentLevel - 1) * 5 + currentPage;
                const progress = ((currentPageGlobal - 1) / totalPages) * 100;
                progressFill.style.width = progress + '%';
            }

            // ÿπÿ±ÿ∂ ÿßŸÑÿßÿ≠ÿ™ŸÅÿßŸÑ
            function showCelebration() {
                const celebration = document.createElement('div');
                celebration.className = 'celebration';
                celebration.textContent = 'üéâ';
                document.body.appendChild(celebration);

                setTimeout(() => {
                    if (document.body.contains(celebration)) {
                        document.body.removeChild(celebration);
                    }
                }, 1000);
            }

            // ÿ™ÿ∫ŸäŸäÿ± ÿ¥ÿÆÿµŸäÿ© ÿßŸÑŸÉÿ±ÿ™ŸàŸÜ
            function updateCharacter() {
                const character = document.getElementById('character');
                const characters = ['üê∞', 'üêª', 'ü¶ä', 'üêº', 'üê®'];
                character.textContent = characters[(currentLevel - 1) % characters.length];
            }

            // ÿπÿ±ÿ∂ ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ£ŸàŸÑ
            function showLevel1() {
                const data = gameData.level1[currentPage - 1];
                const mainCard = document.getElementById('mainCard');
                const choicesContainer = document.getElementById('choicesContainer');

                correctAnswersFound = []; // ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™ ÿßŸÑŸÖŸèŸÉÿ™ÿ¥ŸÅÿ©
                isAnswered = false;

                mainCard.innerHTML = `
                <div class="letter-display">${data.letter}</div>
                <div style="font-size: 1.5em; color: #2d3436; margin-top: 20px;">
                    ÿßÿÆÿ™ÿ± ÿ¨ŸÖŸäÿπ ÿßŸÑŸÉŸÑŸÖÿßÿ™ ÿßŸÑÿ™Ÿä ÿ™ÿ®ÿØÿ£ ÿ®ÿ≠ÿ±ŸÅ "${data.letter}"
                </div>
                <div style="font-size: 1.2em; color: #636e72; margin-top: 10px;">
                    Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ÿ¨ÿØ ${data.correct.length} ŸÉŸÑŸÖÿßÿ™ ÿµÿ≠Ÿäÿ≠ÿ©!
                </div>
                <div id="progressCounter" style="font-size: 1.3em; color: #00b894; margin-top: 15px; font-weight: bold;">
                    Ÿàÿ¨ÿØÿ™: <span id="foundCount">0</span> ŸÖŸÜ ${data.correct.length} ‚ú®
                </div>
            `;

                // ÿÆŸÑÿ∑ ÿßŸÑŸÉŸÑŸÖÿßÿ™ ÿ®ÿ¥ŸÉŸÑ ÿπÿ¥Ÿàÿßÿ¶Ÿä
                const shuffledWords = shuffleArray(data.words);

                choicesContainer.innerHTML = '';
                shuffledWords.forEach((word) => {
                    const choiceDiv = document.createElement('div');
                    choiceDiv.className = 'choice-item';
                    choiceDiv.innerHTML = `
                    <div style="font-size: 3em; margin-bottom: 10px;">üìù</div>
                    <div>${word}</div>
                `;
                    choiceDiv.onclick = () => handleLevel1Choice(word, data.correct.includes(word), choiceDiv);
                    choicesContainer.appendChild(choiceDiv);
                });
            }

            // ŸÖÿµŸÅŸàŸÅÿßÿ™ ÿßŸÑŸÉŸÑŸÖÿßÿ™ ÿßŸÑÿ™ÿ≠ŸÅŸäÿ≤Ÿäÿ©
            const encouragingWords = {
                correct: ['ŸÖŸÖÿ™ÿßÿ≤!', 'ŸÖÿ∞ŸáŸÑ!', 'ÿ±ÿßÿ¶ÿπ!'],
                wrong: ['ÿ≠ÿßŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ!', 'ŸÑÿß ÿ®ÿ£ÿ≥ÿå ÿ¨ÿ±ÿ® ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ!', 'ŸÅŸÉÿ± ÿ¨ŸäÿØÿßŸã!', 'ÿ™ÿ≥ÿ™ÿ∑Ÿäÿπ ÿ£ŸÜ ÿ™ŸÅÿπŸÑŸáÿß!', 'ÿ≠ÿßŸàŸÑ ŸÖÿ¨ÿØÿØÿßŸã!']
            };

            // ÿ£ÿ≥ŸÖÿßÿ° ÿßŸÑÿ≠ÿ±ŸàŸÅ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©
            const letterNames = {
                ÿß: 'ÿ£ŸÑŸÅ',
                ÿ£: 'ÿ£ŸÑŸÅ',
                ÿ•: 'ÿ£ŸÑŸÅ',
                ÿ¢: 'ÿ£ŸÑŸÅ',
                ÿ®: 'ÿ®ÿßÿ°',
                ÿ™: 'ÿ™ÿßÿ°',
                ÿ´: 'ÿ´ÿßÿ°',
                ÿ¨: 'ÿ¨ŸäŸÖ',
                ÿ≠: 'ÿ≠ÿßÿ°',
                ÿÆ: 'ÿÆÿßÿ°',
                ÿØ: 'ÿØÿßŸÑ',
                ÿ∞: 'ÿ∞ÿßŸÑ',
                ÿ±: 'ÿ±ÿßÿ°',
                ÿ≤: 'ÿ≤ÿßŸä',
                ÿ≥: 'ÿ≥ŸäŸÜ',
                ÿ¥: 'ÿ¥ŸäŸÜ',
                ÿµ: 'ÿµÿßÿØ',
                ÿ∂: 'ÿ∂ÿßÿØ',
                ÿ∑: 'ÿ∑ÿßÿ°',
                ÿ∏: 'ÿ∏ÿßÿ°',
                ÿπ: 'ÿπŸäŸÜ',
                ÿ∫: 'ÿ∫ŸäŸÜ',
                ŸÅ: 'ŸÅÿßÿ°',
                ŸÇ: 'ŸÇÿßŸÅ',
                ŸÉ: 'ŸÉÿßŸÅ',
                ŸÑ: 'ŸÑÿßŸÖ',
                ŸÖ: 'ŸÖŸäŸÖ',
                ŸÜ: 'ŸÜŸàŸÜ',
                Ÿá: 'Ÿáÿßÿ°',
                Ÿà: 'ŸàÿßŸà',
                Ÿä: 'Ÿäÿßÿ°',
                ÿ©: 'ÿ™ÿßÿ° ŸÖÿ±ÿ®Ÿàÿ∑ÿ©'
            };

            // ÿ£ÿµŸàÿßÿ™ ÿßŸÑÿ≠ÿ±ŸàŸÅ ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (ŸÑŸÑŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ´ÿßŸÑÿ´)
            const letterSounds = {
                ÿß: 'ÿ£',
                ÿ£: 'ÿ£',
                ÿ•: 'ÿ•',
                ÿ¢: 'ÿ¢',
                ÿ®: 'ÿ®Ÿé',
                ÿ™: 'ÿ™Ÿé',
                ÿ´: 'ÿ´Ÿé',
                ÿ¨: 'ÿ¨Ÿé',
                ÿ≠: 'ÿ≠Ÿé',
                ÿÆ: 'ÿÆŸé',
                ÿØ: 'ÿØŸé',
                ÿ∞: 'ÿ∞Ÿé',
                ÿ±: 'ÿ±Ÿé',
                ÿ≤: 'ÿ≤Ÿé',
                ÿ≥: 'ÿ≥Ÿé',
                ÿ¥: 'ÿ¥Ÿé',
                ÿµ: 'ÿµŸé',
                ÿ∂: 'ÿ∂Ÿé',
                ÿ∑: 'ÿ∑Ÿé',
                ÿ∏: 'ÿ∏Ÿé',
                ÿπ: 'ÿπŸé',
                ÿ∫: 'ÿ∫Ÿé',
                ŸÅ: 'ŸÅŸé',
                ŸÇ: 'ŸÇŸé',
                ŸÉ: 'ŸÉŸé',
                ŸÑ: 'ŸÑŸé',
                ŸÖ: 'ŸÖŸé',
                ŸÜ: 'ŸÜŸé',
                Ÿá: 'ŸáŸé',
                Ÿà: 'ŸàŸé',
                Ÿä: 'ŸäŸé',
                ÿ©: 'ÿ©Ÿé'
            };

            // ÿØÿßŸÑÿ© ŸÑŸÜÿ∑ŸÇ ÿßŸÑÿ≠ÿ±ŸÅ ÿ®ÿßÿ≥ŸÖŸá ŸàŸÑŸäÿ≥ ÿµŸàÿ™Ÿá (ŸÑŸÑŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ´ÿßŸÜŸä)
            function speakLetter(letter) {
                const letterName = letterNames[letter] || letter;
                speakText(letterName);
            }

            // ÿØÿßŸÑÿ© ŸÑŸÜÿ∑ŸÇ ÿµŸàÿ™ ÿßŸÑÿ≠ÿ±ŸÅ (ŸÑŸÑŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ´ÿßŸÑÿ´)
            function speakLetterSound(letter) {
                const letterSound = letterSounds[letter] || letter;
                speakText(letterSound);
            }

            // ÿØÿßŸÑÿ© ŸÑÿßÿÆÿ™Ÿäÿßÿ± ŸÉŸÑŸÖÿ© ÿ™ÿ≠ŸÅŸäÿ≤Ÿäÿ© ÿπÿ¥Ÿàÿßÿ¶Ÿäÿ©
            function getRandomEncouragement(isCorrect = true) {
                const words = isCorrect ? encouragingWords.correct : encouragingWords.wrong;
                const randomIndex = Math.floor(Math.random() * words.length);
                return words[randomIndex];
            }

            // ÿØÿßŸÑÿ© ŸÑÿÆŸÑÿ∑ ÿßŸÑÿπŸÜÿßÿµÿ± ÿ®ÿ¥ŸÉŸÑ ÿπÿ¥Ÿàÿßÿ¶Ÿä
            function shuffleArray(array) {
                const shuffled = [...array];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled;
            }

            // ŸÖÿπÿßŸÑÿ¨ÿ© ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ£ŸàŸÑ
            function handleLevel1Choice(word, isCorrect, element) {
                if (element.classList.contains('correct') || element.classList.contains('wrong')) {
                    return;
                }

                // ŸÇÿ±ÿßÿ°ÿ© ÿßŸÑŸÉŸÑŸÖÿ© ÿπŸÜÿØ ÿßŸÑÿ∂ÿ∫ÿ∑ ÿπŸÑŸäŸáÿß
                speakText(word);

                if (isCorrect) {
                    element.classList.add('correct');
                    playSound('correct');

                    // ÿßÿÆÿ™Ÿäÿßÿ± ŸÉŸÑŸÖÿ© ÿ™ÿ≠ŸÅŸäÿ≤Ÿäÿ© ÿπÿ¥Ÿàÿßÿ¶Ÿäÿ©
                    const encouragement = getRandomEncouragement(true);
                    showMessage(encouragement);

                    if (!correctAnswersFound.includes(word)) {
                        correctAnswersFound.push(word);
                        score++;
                        updateStars();
                        showCelebration();

                        const foundCountElement = document.getElementById('foundCount');
                        if (foundCountElement) {
                            foundCountElement.textContent = correctAnswersFound.length;
                        }
                    }

                    const data = gameData.level1[currentPage - 1];
                    if (correctAnswersFound.length === data.correct.length) {
                        isAnswered = true;

                        setTimeout(() => {
                            const progressCounter = document.getElementById('progressCounter');
                            if (progressCounter) {
                                progressCounter.innerHTML = 'üéâ ŸÖŸÖÿ™ÿßÿ≤! Ÿàÿ¨ÿØÿ™ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÉŸÑŸÖÿßÿ™ ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ©! üéâ';
                                progressCounter.style.color = '#00b894';
                            }
                        }, 1500);

                        setTimeout(() => {
                            correctAnswersFound = [];
                            nextPage();
                        }, 3000);
                    }
                } else {
                    element.classList.add('wrong');
                    playSound('wrong');

                    // ÿßÿÆÿ™Ÿäÿßÿ± ŸÉŸÑŸÖÿ© ÿ™ÿ≠ŸÅŸäÿ≤Ÿäÿ© ÿπÿ¥Ÿàÿßÿ¶Ÿäÿ© ŸÑŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ
                    const encouragement = getRandomEncouragement(false);
                    showMessage(encouragement, false);

                    setTimeout(() => {
                        element.classList.remove('wrong');
                    }, 800);
                }
            }

            // ÿπÿ±ÿ∂ ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ´ÿßŸÜŸä
            function showLevel2() {
                const data = gameData.level2[currentPage - 1];
                const mainCard = document.getElementById('mainCard');
                const choicesContainer = document.getElementById('choicesContainer');

                mainCard.innerHTML = `
                <div class="main-image" onclick="speakText('${data.word}')" title="ÿßÿ∂ÿ∫ÿ∑ ŸÑÿ≥ŸÖÿßÿπ ÿßÿ≥ŸÖ ÿßŸÑÿµŸàÿ±ÿ©">${data.image}</div>
                <div class="main-text" onclick="speakText('${data.word}')" title="ÿßÿ∂ÿ∫ÿ∑ ŸÑÿ≥ŸÖÿßÿπ ÿßŸÑŸÉŸÑŸÖÿ©">${data.word}</div>
                <div style="font-size: 1.2em; color: #636e72; margin: 10px 0;">
                    üëÜ ÿßÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ ÿßŸÑÿµŸàÿ±ÿ© ŸÑÿ≥ŸÖÿßÿπ ÿßÿ≥ŸÖŸáÿß
                </div>
                <div style="font-size: 1.5em; color: #2d3436;">
                    ÿßÿÆÿ™ÿ± ÿßŸÑÿ≠ÿ±ŸÅ ÿßŸÑÿ£ŸàŸÑ ŸÑŸÑŸÉŸÑŸÖÿ©
                </div>
            `;

                // ÿÆŸÑÿ∑ ÿßŸÑÿ≠ÿ±ŸàŸÅ ÿ®ÿ¥ŸÉŸÑ ÿπÿ¥Ÿàÿßÿ¶Ÿä ŸÅŸä ŸÉŸÑ ŸÖÿ±ÿ©
                const shuffledChoices = shuffleArray(data.choices);

                choicesContainer.innerHTML = '';
                shuffledChoices.forEach((letter) => {
                    const choiceDiv = document.createElement('div');
                    choiceDiv.className = 'choice-item';
                    choiceDiv.innerHTML = `
                    <div style="font-size: 4em;">${letter}</div>
                `;
                    choiceDiv.onclick = () => handleLevel2Choice(letter, letter === data.correct, choiceDiv);
                    choicesContainer.appendChild(choiceDiv);
                });
            }

            // ŸÖÿπÿßŸÑÿ¨ÿ© ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ´ÿßŸÜŸä
            function handleLevel2Choice(letter, isCorrect, element) {
                if (isAnswered) return;

                console.log('ÿ™ŸÖ ÿßŸÑÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ:', letter, 'ÿµÿ≠Ÿäÿ≠ÿü', isCorrect);

                if (isCorrect) {
                    element.classList.add('correct');
                    playSound('correct');
                    // ŸÑÿß ŸÜŸÇÿ±ÿ£ ÿßŸÑÿ≠ÿ±ŸÅ - ŸÅŸÇÿ∑ ÿßŸÑÿµŸàÿ™ ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸä

                    score++;
                    updateStars();
                    showCelebration();
                    isAnswered = true;

                    setTimeout(() => {
                        nextPage();
                    }, 1500);
                } else {
                    element.classList.add('wrong');
                    playSound('wrong');
                    // ŸÑÿß ŸÜŸÇÿ±ÿ£ ÿßŸÑÿ≠ÿ±ŸÅ ŸÅŸä ÿ≠ÿßŸÑÿ© ÿßŸÑÿÆÿ∑ÿ£

                    setTimeout(() => {
                        element.classList.remove('wrong');
                    }, 800);
                }
            }

            // ÿπÿ±ÿ∂ ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ´ÿßŸÑÿ´
            function showLevel3() {
                const data = gameData.level3[currentPage - 1];
                const mainCard = document.getElementById('mainCard');
                const choicesContainer = document.getElementById('choicesContainer');

                mainCard.innerHTML = `
                <div class="main-image" onclick="speakText('${data.word}')" title="ÿßÿ∂ÿ∫ÿ∑ ŸÑÿ≥ŸÖÿßÿπ ÿßÿ≥ŸÖ ÿßŸÑÿµŸàÿ±ÿ©">${data.image}</div>
                <div class="word-missing" onclick="speakText('${data.word}')" title="ÿßÿ∂ÿ∫ÿ∑ ŸÑÿ≥ŸÖÿßÿπ ÿßŸÑŸÉŸÑŸÖÿ©">${data.wordWithMissing}</div>
                <div style="font-size: 1.2em; color: #636e72; margin: 10px 0;">
                    üëÜ ÿßÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ ÿßŸÑÿµŸàÿ±ÿ© ŸÑÿ≥ŸÖÿßÿπ ÿßÿ≥ŸÖŸáÿß
                </div>
                <div style="font-size: 1.5em; color: #2d3436;">
                    ÿßÿÆÿ™ÿ± ÿßŸÑÿ≠ÿ±ŸÅ ÿßŸÑŸÜÿßŸÇÿµ ŸÑÿ•ŸÉŸÖÿßŸÑ ÿßŸÑŸÉŸÑŸÖÿ©
                </div>
            `;

                // ÿÆŸÑÿ∑ ÿßŸÑÿ≠ÿ±ŸàŸÅ ÿ®ÿ¥ŸÉŸÑ ÿπÿ¥Ÿàÿßÿ¶Ÿä ŸÅŸä ŸÉŸÑ ŸÖÿ±ÿ©
                const shuffledChoices = shuffleArray(data.choices);

                choicesContainer.innerHTML = '';
                shuffledChoices.forEach((letter) => {
                    const choiceDiv = document.createElement('div');
                    choiceDiv.className = 'choice-item';
                    choiceDiv.innerHTML = `
                    <div style="font-size: 4em;">${letter}</div>
                `;
                    choiceDiv.onclick = () => handleLevel3Choice(letter, letter === data.missingLetter, choiceDiv);
                    choicesContainer.appendChild(choiceDiv);
                });
            }

            // ŸÖÿπÿßŸÑÿ¨ÿ© ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ´ÿßŸÑÿ´
            function handleLevel3Choice(letter, isCorrect, element) {
                if (isAnswered) return;

                console.log('ÿ™ŸÖ ÿßŸÑÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ:', letter, 'ÿµÿ≠Ÿäÿ≠ÿü', isCorrect);

                if (isCorrect) {
                    element.classList.add('correct');
                    playSound('correct');
                    // ŸÑÿß ŸÜŸÇÿ±ÿ£ ÿßŸÑÿ≠ÿ±ŸÅ - ŸÅŸÇÿ∑ ÿßŸÑÿµŸàÿ™ ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸä

                    score++;
                    updateStars();
                    showCelebration();
                    isAnswered = true;

                    setTimeout(() => {
                        nextPage();
                    }, 1500);
                } else {
                    element.classList.add('wrong');
                    playSound('wrong');
                    // ŸÑÿß ŸÜŸÇÿ±ÿ£ ÿßŸÑÿ≠ÿ±ŸÅ ŸÅŸä ÿ≠ÿßŸÑÿ© ÿßŸÑÿÆÿ∑ÿ£

                    setTimeout(() => {
                        element.classList.remove('wrong');
                    }, 800);
                }
            }

            // ÿßŸÑÿßŸÜÿ™ŸÇÿßŸÑ ŸÑŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ™ÿßŸÑŸäÿ©
            function nextPage() {
                isAnswered = false;

                if (currentPage < 5) {
                    currentPage++;
                    updateProgress();
                    loadCurrentLevel();
                } else {
                    // ÿßŸÜÿ™Ÿáÿßÿ° ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ
                    if (currentLevel < 3) {
                        currentLevel++;
                        currentPage = 1;
                        updateProgress();
                        updateCharacter();
                        loadCurrentLevel();
                    } else {
                        // ÿßŸÜÿ™Ÿáÿßÿ° ÿßŸÑŸÑÿπÿ®ÿ©
                        showGameComplete();
                    }
                }

                document.getElementById('currentLevel').textContent = currentLevel;
                document.getElementById('currentPage').textContent = currentPage;
            }

            // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ≠ÿßŸÑŸä
            function loadCurrentLevel() {
                if (currentLevel === 1) {
                    showLevel1();
                } else if (currentLevel === 2) {
                    showLevel2();
                } else if (currentLevel === 3) {
                    showLevel3();
                }
            }

            // ÿπÿ±ÿ∂ ÿßŸÜÿ™Ÿáÿßÿ° ÿßŸÑŸÑÿπÿ®ÿ©
            function showGameComplete() {
                const mainCard = document.getElementById('mainCard');
                const choicesContainer = document.getElementById('choicesContainer');

                // ÿ±ÿ≥ÿßÿ¶ŸÑ ÿ™ÿ≠ŸÅŸäÿ≤Ÿäÿ© ŸÖÿ™ŸÜŸàÿπÿ© ÿ≠ÿ≥ÿ® ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©
                let finalMessage = '';
                let finalEncouragement = '';

                if (score >= 13) {
                    finalMessage = 'ŸÖŸÖÿ™ÿßÿ≤ ÿ¨ÿØÿßŸã! ÿ£ŸÜÿ™ ŸÜÿ¨ŸÖ ÿ≠ŸÇŸäŸÇŸä!';
                    finalEncouragement = 'ÿ™ŸÇÿØŸÖ ÿ±ÿßÿ¶ÿπ Ÿäÿß ÿ®ÿ∑ŸÑ!';
                } else if (score >= 10) {
                    finalMessage = 'ÿ£ÿ≠ÿ≥ŸÜÿ™! ÿπŸÖŸÑ ÿ±ÿßÿ¶ÿπ!';
                    finalEncouragement = 'ÿ£ÿØÿßÿ° ŸÖŸÖÿ™ÿßÿ≤!';
                } else if (score >= 7) {
                    finalMessage = 'ÿ¨ŸäÿØ ÿ¨ÿØÿßŸã! ÿßÿ≥ÿ™ŸÖÿ± ŸÅŸä ÿßŸÑÿ™ÿ≠ÿ≥ŸÜ!';
                    finalEncouragement = 'ÿ™ŸÇÿØŸÖ ÿ¨ŸäÿØ!';
                } else {
                    finalMessage = 'ÿπŸÖŸÑ ÿ¨ŸäÿØ! ÿ≠ÿßŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ!';
                    finalEncouragement = 'ÿ™ÿ≥ÿ™ÿ∑Ÿäÿπ ÿ£ŸÜ ÿ™ÿ≠ÿ≥ŸÜ ÿ£ŸÉÿ´ÿ±!';
                }

                mainCard.innerHTML = `
                <div style="font-size: 4em; margin-bottom: 20px;">üéä</div>
                <div style="font-size: 2.5em; color: #00b894; margin-bottom: 20px;">
                    ${finalMessage}
                </div>
                <div style="font-size: 1.8em; color: #2d3436; margin-bottom: 15px;">
                    ÿ≠ÿµŸÑÿ™ ÿπŸÑŸâ ${score} ŸÜÿ¨ŸàŸÖ ŸÖŸÜ 15 ‚≠ê
                </div>
                <div style="font-size: 1.5em; color: #636e72;">
                    ${finalEncouragement}
                </div>
            `;

                choicesContainer.innerHTML = `
                <button class="choice-item" onclick="restartGame()" style="font-size: 1.5em;">
                    üîÑ ÿßÿ®ÿØÿ£ ŸÖŸÜ ÿ¨ÿØŸäÿØ
                </button>
            `;

                playSound('correct');
                showCelebration();

                // ŸÇÿ±ÿßÿ°ÿ© ÿßŸÑÿ±ÿ≥ÿßŸÑÿ© ÿßŸÑŸÜŸáÿßÿ¶Ÿäÿ©
                setTimeout(() => {
                    speakText(finalMessage);
                }, 1000);
            }

            // ÿ•ÿπÿßÿØÿ© ÿ®ÿØÿ° ÿßŸÑŸÑÿπÿ®ÿ©
            function restartGame() {
                currentLevel = 1;
                currentPage = 1;
                score = 0;
                isAnswered = false;
                gameStarted = true;

                updateStars();
                updateProgress();
                updateCharacter();
                loadCurrentLevel();

                document.getElementById('currentLevel').textContent = currentLevel;
                document.getElementById('currentPage').textContent = currentPage;
            }

            // ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿµŸàÿ™
            function testSound() {
                initAudio();

                // ÿµŸàÿ™ ÿßŸÑÿ¨ŸÑŸäÿ™ÿ±
                playSound('correct');

                // ŸÉŸÑŸÖÿ©
                setTimeout(() => {
                    speakText('ÿ™ŸÅÿßÿ≠ÿ©');
                }, 1000);

                // ÿßÿ≥ŸÖ ÿ≠ÿ±ŸÅ (ŸÑŸÑŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ´ÿßŸÜŸä)
                setTimeout(() => {
                    speakLetter('ÿ®');
                }, 3000);

                // ÿµŸàÿ™ ÿ≠ÿ±ŸÅ (ŸÑŸÑŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ´ÿßŸÑÿ´)
                setTimeout(() => {
                    speakLetterSound('ÿ±');
                }, 5000);

                // ÿµŸàÿ™ ÿßŸÑÿ®ÿßÿ≤
                setTimeout(() => {
                    playSound('wrong');
                }, 7000);

                alert('ÿ¨ÿßÿ±Ÿä ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ£ÿµŸàÿßÿ™! üéµ\nÿ≥ÿ™ÿ≥ŸÖÿπ: ÿµŸàÿ™ ÿßŸÑÿ¨ŸÑŸäÿ™ÿ± ‚Üê ŸÉŸÑŸÖÿ© "ÿ™ŸÅÿßÿ≠ÿ©" ‚Üê ÿßÿ≥ŸÖ ÿ≠ÿ±ŸÅ "ÿ®ÿßÿ°" ‚Üê ÿµŸàÿ™ ÿ≠ÿ±ŸÅ "ÿ±Ÿé" ‚Üê ÿµŸàÿ™ ÿßŸÑÿ®ÿßÿ≤');
            }

            // ÿ®ÿØÿ° ÿßŸÑŸÑÿπÿ®ÿ©
            function startGame() {
                console.log('ÿ®ÿØÿ° ÿßŸÑŸÑÿπÿ®ÿ©...');

                if (!gameStarted) {
                    gameStarted = true;
                    initAudio(); // ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑÿµŸàÿ™
                    updateCharacter();
                    updateProgress();
                    loadCurrentLevel();
                }
            }

            // ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑŸÑÿπÿ®ÿ© ÿπŸÜÿØ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸÅÿ≠ÿ©
            window.onload = function () {
                updateCharacter();
                // TTS ŸÖÿπÿ∑ŸÑ - ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ÿ∑ŸÑÿ® ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ
            };
        </script>
    </body>
</html>
