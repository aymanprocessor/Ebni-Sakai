<!doctype html>
<html lang="ar" dir="rtl">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Ù„Ø¹Ø¨Ø© ØªØµÙ†ÙŠÙ Ø§Ù„Ù…Ù„Ø§Ø¨Ø³ Ø­Ø³Ø¨ Ø§Ù„ÙØµÙˆÙ„</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: 'Arial', sans-serif;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                min-height: 100vh;
                color: #333;
                padding: 20px;
            }

            .container {
                max-width: 1200px;
                margin: 0 auto;
            }

            /* Ø´Ø§Ø´Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
            .main-menu {
                background: white;
                border-radius: 20px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                padding: 40px;
                text-align: center;
                animation: fadeIn 0.5s ease-in;
            }

            .game-title {
                font-size: 3em;
                color: #333;
                margin-bottom: 30px;
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            }

            .total-score {
                font-size: 1.8em;
                color: #6c5ce7;
                margin-bottom: 30px;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 10px;
            }

            .levels-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 20px;
                margin-bottom: 30px;
            }

            .level-card {
                padding: 30px;
                border-radius: 15px;
                color: white;
                cursor: pointer;
                transition: transform 0.3s ease;
                position: relative;
                overflow: hidden;
            }

            .level-card:hover {
                transform: translateY(-5px);
            }

            .level-card.locked {
                opacity: 0.5;
                cursor: not-allowed;
            }

            .level-1 {
                background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            }

            .level-2 {
                background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            }

            .level-3 {
                background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            }

            .level-pages {
                display: flex;
                gap: 10px;
                margin-top: 15px;
            }

            .page-btn {
                background: rgba(255, 255, 255, 0.2);
                color: white;
                border: none;
                padding: 8px 16px;
                border-radius: 8px;
                cursor: pointer;
                flex: 1;
                transition: background 0.3s ease;
            }

            .page-btn:hover {
                background: rgba(255, 255, 255, 0.3);
            }

            .page-btn:disabled {
                opacity: 0.5;
                cursor: not-allowed;
            }

            .seasons-guide {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 15px;
                margin-bottom: 20px;
            }

            .season-item {
                padding: 20px;
                border-radius: 12px;
                text-align: center;
                border: 3px solid;
            }

            .summer {
                background: #fff3cd;
                border-color: #ffc107;
                color: #856404;
            }

            .winter {
                background: #d1ecf1;
                border-color: #17a2b8;
                color: #0c5460;
            }

            .spring {
                background: #d4edda;
                border-color: #28a745;
                color: #155724;
            }

            .autumn {
                background: #f8d7da;
                border-color: #dc3545;
                color: #721c24;
            }

            /* Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨ */
            .game-screen {
                display: none;
                animation: fadeIn 0.5s ease-in;
            }

            .game-header {
                background: white;
                border-radius: 15px;
                padding: 20px;
                margin-bottom: 20px;
                display: flex;
                justify-content: space-between;
                align-items: center;
                flex-wrap: wrap;
                gap: 15px;
            }

            .level-info {
                display: flex;
                align-items: center;
                gap: 15px;
            }

            .level-badge {
                padding: 8px 16px;
                border-radius: 8px;
                color: white;
                font-weight: bold;
            }

            .score-info {
                text-align: center;
            }

            .progress-bar {
                width: 150px;
                height: 8px;
                background: #e0e0e0;
                border-radius: 4px;
                overflow: hidden;
                margin-top: 5px;
            }

            .progress-fill {
                height: 100%;
                background: linear-gradient(90deg, #2ecc71, #3498db);
                border-radius: 4px;
                transition: width 0.3s ease;
                width: 0%;
            }

            .game-controls {
                display: flex;
                gap: 10px;
            }

            .control-btn {
                background: #6c7ae0;
                color: white;
                border: none;
                padding: 8px 16px;
                border-radius: 8px;
                cursor: pointer;
                display: flex;
                align-items: center;
                gap: 5px;
                transition: background 0.3s ease;
            }

            .control-btn:hover {
                background: #5a67d8;
            }

            .control-btn:disabled {
                opacity: 0.5;
                cursor: not-allowed;
            }

            .game-content {
                display: grid;
                grid-template-columns: 2fr 1fr;
                gap: 20px;
            }

            .clothes-area {
                background: white;
                border-radius: 15px;
                padding: 25px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }

            .clothes-grid {
                display: grid;
                gap: 15px;
                max-height: 400px;
                overflow-y: auto;
                padding: 10px;
            }

            .clothes-grid.level-1 {
                grid-template-columns: repeat(4, 1fr);
            }

            .clothes-grid.level-2 {
                grid-template-columns: repeat(5, 1fr);
            }

            .clothes-grid.level-3 {
                grid-template-columns: repeat(6, 1fr);
            }

            .clothes-item {
                background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
                border: 3px solid #ffc107;
                border-radius: 12px;
                padding: 15px;
                text-align: center;
                cursor: grab;
                transition: all 0.3s ease;
                user-select: none;
            }

            .clothes-item:hover {
                transform: scale(1.05);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            }

            .clothes-item:active {
                cursor: grabbing;
            }

            .clothes-item.dragging {
                opacity: 0.5;
                transform: rotate(5deg);
            }

            .clothes-emoji {
                font-size: 2.5em;
                margin-bottom: 8px;
                display: block;
            }

            .clothes-name {
                font-size: 0.9em;
                font-weight: bold;
                color: #333;
                line-height: 1.2;
            }

            .categories-area {
                display: flex;
                flex-direction: column;
                gap: 15px;
            }

            .category-box {
                border-radius: 15px;
                padding: 20px;
                min-height: 120px;
                border: 4px dashed;
                transition: all 0.3s ease;
                position: relative;
            }

            .category-box.drag-over {
                border-style: solid;
                transform: scale(1.02);
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
            }

            .category-header {
                text-align: center;
                margin-bottom: 15px;
            }

            .category-icon {
                font-size: 2em;
                margin-bottom: 5px;
                display: block;
            }

            .category-name {
                color: white;
                font-weight: bold;
                font-size: 1.2em;
                text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
            }

            .category-hint {
                color: white;
                font-size: 0.8em;
                opacity: 0.8;
            }

            .placed-items {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
                margin-top: 10px;
            }

            .placed-item {
                background: rgba(255, 255, 255, 0.9);
                border-radius: 8px;
                padding: 8px;
                text-align: center;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
                animation: placeItem 0.3s ease-out;
            }

            .placed-item-emoji {
                font-size: 1.2em;
                margin-bottom: 3px;
                display: block;
            }

            .placed-item-name {
                font-size: 0.7em;
                font-weight: bold;
                color: #333;
            }

            .empty-category {
                text-align: center;
                color: rgba(255, 255, 255, 0.7);
                font-style: italic;
                padding: 20px;
            }

            /* Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù†Ø¬Ø§Ø­ */
            .success-screen {
                display: none;
                background: white;
                border-radius: 20px;
                padding: 40px;
                text-align: center;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                animation: bounceIn 0.6s ease-out;
            }

            .success-icon {
                font-size: 5em;
                margin-bottom: 20px;
                animation: bounce 1s infinite;
            }

            .success-title {
                font-size: 2.5em;
                color: #2ecc71;
                margin-bottom: 20px;
            }

            .success-score {
                font-size: 1.8em;
                color: #6c5ce7;
                margin-bottom: 30px;
            }

            .success-buttons {
                display: flex;
                gap: 15px;
                justify-content: center;
                flex-wrap: wrap;
            }

            .success-btn {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                border: none;
                padding: 12px 24px;
                border-radius: 10px;
                cursor: pointer;
                font-size: 1.1em;
                transition: transform 0.3s ease;
                display: flex;
                align-items: center;
                gap: 8px;
            }

            .success-btn:hover {
                transform: translateY(-2px);
            }

            .success-btn.next-level {
                background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            }

            /* Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© */
            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            @keyframes bounceIn {
                0% {
                    opacity: 0;
                    transform: scale(0.3);
                }
                50% {
                    opacity: 1;
                    transform: scale(1.05);
                }
                70% {
                    transform: scale(0.9);
                }
                100% {
                    opacity: 1;
                    transform: scale(1);
                }
            }

            @keyframes bounce {
                0%,
                20%,
                50%,
                80%,
                100% {
                    transform: translateY(0);
                }
                40% {
                    transform: translateY(-10px);
                }
                60% {
                    transform: translateY(-5px);
                }
            }

            @keyframes placeItem {
                from {
                    opacity: 0;
                    transform: scale(0.5) rotate(10deg);
                }
                to {
                    opacity: 1;
                    transform: scale(1) rotate(0deg);
                }
            }

            @keyframes shake {
                0%,
                100% {
                    transform: translateX(0);
                }
                25% {
                    transform: translateX(-5px);
                }
                75% {
                    transform: translateX(5px);
                }
            }

            .shake {
                animation: shake 0.5s ease-in-out;
            }

            /* Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
            @media (max-width: 768px) {
                .game-content {
                    grid-template-columns: 1fr;
                }

                .categories-area {
                    grid-template-columns: repeat(2, 1fr);
                    display: grid;
                }

                .clothes-grid.level-1,
                .clothes-grid.level-2,
                .clothes-grid.level-3 {
                    grid-template-columns: repeat(3, 1fr);
                }

                .game-header {
                    flex-direction: column;
                    text-align: center;
                }

                .placed-items {
                    grid-template-columns: repeat(2, 1fr);
                }
            }

            /* Ø¥Ø®ÙØ§Ø¡ scrollbar */
            .clothes-grid::-webkit-scrollbar {
                width: 8px;
            }

            .clothes-grid::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 4px;
            }

            .clothes-grid::-webkit-scrollbar-thumb {
                background: #888;
                border-radius: 4px;
            }

            .clothes-grid::-webkit-scrollbar-thumb:hover {
                background: #555;
            }

            .instructions {
                background: #fff3cd;
                border: 2px solid #ffc107;
                border-radius: 10px;
                padding: 15px;
                margin-top: 20px;
                text-align: center;
                color: #856404;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
            <div id="mainMenu" class="main-menu">
                <h1 class="game-title">ğŸ‘— Ù„Ø¹Ø¨Ø© ØªØµÙ†ÙŠÙ Ø§Ù„Ù…Ù„Ø§Ø¨Ø³ Ø­Ø³Ø¨ Ø§Ù„ÙØµÙˆÙ„</h1>

                <div class="total-score">
                    <span>â­</span>
                    Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©: <span id="totalScoreDisplay">0</span>
                </div>

                <div class="levels-grid">
                    <div class="level-card level-1" data-level="1">
                        <h3>Ù…Ø³ØªÙˆÙ‰ Ø³Ù‡Ù„ - ØµÙŠÙ ÙˆØ´ØªØ§Ø¡</h3>
                        <p>8 Ù‚Ø·Ø¹ Ù…Ù„Ø§Ø¨Ø³ ÙÙŠ ÙƒÙ„ ØµÙØ­Ø©</p>
                        <p>2 ØµÙØ­Ø§Øª</p>
                        <div class="level-pages">
                            <button class="page-btn" onclick="startLevel(1, 1)">Ø§Ù„ØµÙØ­Ø© 1</button>
                            <button class="page-btn" onclick="startLevel(1, 2)">Ø§Ù„ØµÙØ­Ø© 2</button>
                        </div>
                        <div id="level1Complete" style="display: none; color: #ffd700; margin-top: 10px">ğŸ† Ù…ÙƒØªÙ…Ù„</div>
                    </div>

                    <div class="level-card level-2 locked" data-level="2">
                        <div style="text-align: center; margin-bottom: 15px">ğŸ”’</div>
                        <h3>Ù…Ø³ØªÙˆÙ‰ Ù…ØªÙˆØ³Ø· - Ø±Ø¨ÙŠØ¹ ÙˆØ®Ø±ÙŠÙ</h3>
                        <p>10 Ù‚Ø·Ø¹ Ù…Ù„Ø§Ø¨Ø³ ÙÙŠ ÙƒÙ„ ØµÙØ­Ø©</p>
                        <p>2 ØµÙØ­Ø§Øª</p>
                        <div class="level-pages">
                            <button class="page-btn" onclick="startLevel(2, 1)" disabled>Ø§Ù„ØµÙØ­Ø© 1</button>
                            <button class="page-btn" onclick="startLevel(2, 2)" disabled>Ø§Ù„ØµÙØ­Ø© 2</button>
                        </div>
                        <div id="level2Complete" style="display: none; color: #ffd700; margin-top: 10px">ğŸ† Ù…ÙƒØªÙ…Ù„</div>
                    </div>

                    <div class="level-card level-3 locked" data-level="3">
                        <div style="text-align: center; margin-bottom: 15px">ğŸ”’</div>
                        <h3>Ù…Ø³ØªÙˆÙ‰ ØµØ¹Ø¨ - Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØµÙˆÙ„</h3>
                        <p>12 Ù‚Ø·Ø¹Ø© Ù…Ù„Ø§Ø¨Ø³ ÙÙŠ ÙƒÙ„ ØµÙØ­Ø©</p>
                        <p>2 ØµÙØ­Ø§Øª</p>
                        <div class="level-pages">
                            <button class="page-btn" onclick="startLevel(3, 1)" disabled>Ø§Ù„ØµÙØ­Ø© 1</button>
                            <button class="page-btn" onclick="startLevel(3, 2)" disabled>Ø§Ù„ØµÙØ­Ø© 2</button>
                        </div>
                        <div id="level3Complete" style="display: none; color: #ffd700; margin-top: 10px">ğŸ† Ù…ÙƒØªÙ…Ù„</div>
                    </div>
                </div>

                <div class="seasons-guide">
                    <div class="season-item summer">
                        <div style="font-size: 2em; margin-bottom: 10px">â˜€ï¸</div>
                        <div style="font-weight: bold">ØµÙŠÙ</div>
                        <div style="font-size: 0.8em">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„</div>
                    </div>
                    <div class="season-item winter">
                        <div style="font-size: 2em; margin-bottom: 10px">â„ï¸</div>
                        <div style="font-weight: bold">Ø´ØªØ§Ø¡</div>
                        <div style="font-size: 0.8em">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„</div>
                    </div>
                    <div class="season-item spring">
                        <div style="font-size: 2em; margin-bottom: 10px">ğŸŒ¸</div>
                        <div style="font-weight: bold">Ø±Ø¨ÙŠØ¹</div>
                        <div style="font-size: 0.8em">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 2 Ùˆ 3</div>
                    </div>
                    <div class="season-item autumn">
                        <div style="font-size: 2em; margin-bottom: 10px">ğŸ‚</div>
                        <div style="font-weight: bold">Ø®Ø±ÙŠÙ</div>
                        <div style="font-size: 0.8em">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 2 Ùˆ 3</div>
                    </div>
                </div>

                <div style="background: #fff3cd; padding: 20px; border-radius: 15px; color: #856404">
                    <p style="font-weight: bold; margin-bottom: 10px">ğŸ’¡ ÙƒÙŠÙÙŠØ© Ø§Ù„Ù„Ø¹Ø¨:</p>
                    <p>
                        Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„: ØªØ¹Ù„Ù… Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ù…Ù„Ø§Ø¨Ø³ Ø§Ù„ØµÙŠÙ ÙˆØ§Ù„Ø´ØªØ§Ø¡<br />
                        Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ø§Ù†ÙŠ: ØªØ¹Ù„Ù… Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ù…Ù„Ø§Ø¨Ø³ Ø§Ù„Ø±Ø¨ÙŠØ¹ ÙˆØ§Ù„Ø®Ø±ÙŠÙ<br />
                        Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ø§Ù„Ø«: ØªØ­Ø¯ÙŠ Ù†Ù‡Ø§Ø¦ÙŠ Ù…Ø¹ Ø¬Ù…ÙŠØ¹ ÙØµÙˆÙ„ Ø§Ù„Ø³Ù†Ø©!<br />
                        ğŸ”Š Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ø£ØµÙˆØ§Øª Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© ÙˆØ§Ù„Ø®Ø§Ø·Ø¦Ø©!
                    </p>
                </div>
            </div>

            <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨ -->
            <div id="gameScreen" class="game-screen">
                <div class="game-header">
                    <div class="level-info">
                        <div id="levelBadge" class="level-badge">Ù…Ø³ØªÙˆÙ‰ 1</div>
                        <span id="pageInfo">Ø§Ù„ØµÙØ­Ø© 1/2</span>
                    </div>

                    <div class="score-info">
                        <div style="display: flex; align-items: center; gap: 8px">
                            <span style="font-size: 1.5em">â­</span>
                            <span style="font-size: 1.3em; font-weight: bold">Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="currentScore">0</span></span>
                        </div>
                        <div style="font-size: 0.9em; color: #666">Ø§Ù„ØªÙ‚Ø¯Ù…: <span id="progressText">0%</span></div>
                        <div class="progress-bar">
                            <div id="progressFill" class="progress-fill"></div>
                        </div>
                    </div>

                    <div class="game-controls">
                        <button id="prevPageBtn" class="control-btn" onclick="changePage(-1)">â† Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</button>
                        <button id="nextPageBtn" class="control-btn" onclick="changePage(1)">Ø§Ù„ØªØ§Ù„ÙŠØ© â†’</button>
                        <button class="control-btn" onclick="backToMenu()">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                    </div>
                </div>

                <div class="game-content">
                    <div class="clothes-area">
                        <h2 style="text-align: center; margin-bottom: 20px; color: #333">ğŸ‘— Ø§Ø³Ø­Ø¨ Ø§Ù„Ù…Ù„Ø§Ø¨Ø³ Ø¥Ù„Ù‰ Ø§Ù„ÙØµÙ„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨</h2>
                        <div id="clothesGrid" class="clothes-grid level-1">
                            <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„Ø§Ø¨Ø³ Ù‡Ù†Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                        </div>
                        <div id="emptyMessage" style="display: none; text-align: center; padding: 40px; color: #666">
                            <div style="font-size: 3em; margin-bottom: 10px">ğŸ‰</div>
                            <p style="font-size: 1.2em">ØªÙ… ÙˆØ¶Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„Ø§Ø¨Ø³!</p>
                        </div>
                    </div>

                    <div id="categoriesArea" class="categories-area">
                        <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙØ¦Ø§Øª Ù‡Ù†Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                    </div>
                </div>

                <div class="instructions">
                    <p id="instructionText">ğŸ¯ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø³Ù‡Ù„ - Ø§Ù„ØµÙØ­Ø© 1 â€¢ Ø§Ø³Ø­Ø¨ ÙƒÙ„ Ù‚Ø·Ø¹Ø© Ù…Ù„Ø§Ø¨Ø³ Ø¥Ù„Ù‰ Ø§Ù„ÙØµÙ„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ â€¢ ÙƒÙ„ Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø© = 10 Ù†Ù‚Ø§Ø·</p>
                </div>
            </div>

            <!-- Ø´Ø§Ø´Ø© Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„ØµÙØ­Ø© -->
            <div id="pageCompleteScreen" class="success-screen">
                <div class="success-icon">ğŸ‰</div>
                <h2 class="success-title">Ø£Ø­Ø³Ù†Øª!</h2>
                <p id="pageCompleteText" style="font-size: 1.3em; margin-bottom: 20px">Ø£ÙƒÙ…Ù„Øª Ø§Ù„ØµÙØ­Ø© Ø¨Ù†Ø¬Ø§Ø­!</p>
                <div class="success-score">Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="pageScore">0</span></div>
                <div class="success-buttons">
                    <button class="success-btn next-level" onclick="goToNextPage()">Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© â†’</button>
                </div>
            </div>

            <!-- Ø´Ø§Ø´Ø© Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ -->
            <div id="levelCompleteScreen" class="success-screen">
                <div class="success-icon">ğŸ†</div>
                <h2 class="success-title">Ù…Ø¨Ø±ÙˆÙƒ!</h2>
                <p id="levelCompleteText" style="font-size: 1.3em; margin-bottom: 20px">Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø¨Ù†Ø¬Ø§Ø­!</p>
                <div class="success-score">Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="levelScore">0</span></div>
                <div class="success-buttons">
                    <button class="success-btn" onclick="backToMenu()">ğŸ  Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                    <button id="nextLevelBtn" class="success-btn next-level" style="display: none" onclick="goToNextLevel()">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ â†’</button>
                </div>
            </div>
        </div>

        <script>
            // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
            const clothesData = {
                1: {
                    // Ù…Ø³ØªÙˆÙ‰ 1 - Ø³Ù‡Ù„ (ØµÙŠÙ ÙˆØ´ØªØ§Ø¡)
                    1: [
                        // Ø§Ù„ØµÙØ­Ø© 1
                        { id: 'tshirt', name: 'ØªÙŠØ´ÙŠØ±Øª', emoji: 'ğŸ‘•', category: 'summer' },
                        { id: 'shorts', name: 'Ø´ÙˆØ±Øª', emoji: 'ğŸ©³', category: 'summer' },
                        { id: 'sandals', name: 'ØµÙ†Ø¯Ù„', emoji: 'ğŸ‘¡', category: 'summer' },
                        { id: 'sunglasses', name: 'Ù†Ø¸Ø§Ø±Ø© Ø´Ù…Ø³ÙŠØ©', emoji: 'ğŸ•¶ï¸', category: 'summer' },
                        { id: 'coat', name: 'Ù…Ø¹Ø·Ù', emoji: 'ğŸ§¥', category: 'winter' },
                        { id: 'scarf', name: 'Ø´Ø§Ù„', emoji: 'ğŸ§£', category: 'winter' },
                        { id: 'boots', name: 'Ø¨ÙˆØª', emoji: 'ğŸ‘¢', category: 'winter' },
                        { id: 'hat', name: 'Ù‚Ø¨Ø¹Ø©', emoji: 'ğŸ©', category: 'winter' }
                    ],
                    2: [
                        // Ø§Ù„ØµÙØ­Ø© 2
                        { id: 'bikini', name: 'Ù…Ø§ÙŠÙˆÙ‡', emoji: 'ğŸ‘™', category: 'summer' },
                        { id: 'tank_top', name: 'ÙØ§Ù†Ù„Ø©', emoji: 'ğŸ‘š', category: 'summer' },
                        { id: 'flip_flops', name: 'Ø´Ø¨Ø´Ø¨', emoji: 'ğŸ©´', category: 'summer' },
                        { id: 'cap', name: 'ÙƒØ§Ø¨', emoji: 'ğŸ§¢', category: 'summer' },
                        { id: 'sweater', name: 'Ø³ÙˆÙŠØªØ±', emoji: 'ğŸ‘˜', category: 'winter' },
                        { id: 'gloves', name: 'Ø¬ÙˆØ§Ù†ØªÙŠ', emoji: 'ğŸ§¤', category: 'winter' },
                        { id: 'wool_socks', name: 'Ø´Ø±Ø§Ø¨ ØµÙˆÙ', emoji: 'ğŸ§¦', category: 'winter' },
                        { id: 'winter_hat', name: 'Ù‚Ø¨Ø¹Ø© ØµÙˆÙ', emoji: 'ğŸ§£', category: 'winter' }
                    ]
                },
                2: {
                    // Ù…Ø³ØªÙˆÙ‰ 2 - Ù…ØªÙˆØ³Ø· (Ø±Ø¨ÙŠØ¹ ÙˆØ®Ø±ÙŠÙ)
                    1: [
                        // Ø§Ù„ØµÙØ­Ø© 1
                        { id: 'light_jacket', name: 'Ø¬Ø§ÙƒÙŠØª Ø®ÙÙŠÙ', emoji: 'ğŸ§¥', category: 'spring' },
                        { id: 'jeans', name: 'Ø¬ÙŠÙ†Ø²', emoji: 'ğŸ‘–', category: 'spring' },
                        { id: 'sneakers', name: 'Ø­Ø°Ø§Ø¡ Ø±ÙŠØ§Ø¶ÙŠ', emoji: 'ğŸ‘Ÿ', category: 'spring' },
                        { id: 'light_shirt', name: 'Ù‚Ù…ÙŠØµ Ø®ÙÙŠÙ', emoji: 'ğŸ‘”', category: 'spring' },
                        { id: 'spring_dress', name: 'ÙØ³ØªØ§Ù† Ø±Ø¨ÙŠØ¹ÙŠ', emoji: 'ğŸ‘—', category: 'spring' },
                        { id: 'cardigan', name: 'ÙƒØ§Ø±Ø¯ÙŠØ¬Ø§Ù†', emoji: 'ğŸ‘•', category: 'autumn' },
                        { id: 'long_pants', name: 'Ø¨Ù†Ø·Ù„ÙˆÙ† Ø·ÙˆÙŠÙ„', emoji: 'ğŸ‘–', category: 'autumn' },
                        { id: 'ankle_boots', name: 'Ø­Ø°Ø§Ø¡ Ù‚ØµÙŠØ±', emoji: 'ğŸ‘ ', category: 'autumn' },
                        { id: 'light_scarf', name: 'Ø´Ø§Ù„ Ø®ÙÙŠÙ', emoji: 'ğŸ§£', category: 'autumn' },
                        { id: 'vest', name: 'Ø³ØªØ±Ø©', emoji: 'ğŸ¦º', category: 'autumn' }
                    ],
                    2: [
                        // Ø§Ù„ØµÙØ­Ø© 2
                        { id: 'windbreaker', name: 'Ø¬Ø§ÙƒÙŠØª Ù…Ø·Ø±', emoji: 'ğŸ¥½', category: 'spring' },
                        { id: 'cotton_shirt', name: 'Ù‚Ù…ÙŠØµ Ù‚Ø·Ù†ÙŠ', emoji: 'ğŸ‘”', category: 'spring' },
                        { id: 'light_shoes', name: 'Ø­Ø°Ø§Ø¡ Ø®ÙÙŠÙ', emoji: 'ğŸ‘', category: 'spring' },
                        { id: 'spring_skirt', name: 'ØªÙ†ÙˆØ±Ø© Ø±Ø¨ÙŠØ¹ÙŠØ©', emoji: 'ğŸ‘—', category: 'spring' },
                        { id: 'baseball_cap', name: 'ÙƒØ§Ø¨ Ø±ÙŠØ§Ø¶ÙŠ', emoji: 'ğŸ§¢', category: 'spring' },
                        { id: 'pullover', name: 'Ø¨Ù„ÙˆÙØ±', emoji: 'ğŸ‘˜', category: 'autumn' },
                        { id: 'corduroy_pants', name: 'Ø¨Ù†Ø·Ù„ÙˆÙ† Ù…Ø®Ù…Ù„', emoji: 'ğŸ‘–', category: 'autumn' },
                        { id: 'leather_shoes', name: 'Ø­Ø°Ø§Ø¡ Ø¬Ù„Ø¯', emoji: 'ğŸ‘', category: 'autumn' },
                        { id: 'beret', name: 'Ø¨ÙŠØ±ÙŠÙ‡', emoji: 'ğŸ©', category: 'autumn' },
                        { id: 'blazer', name: 'Ø¨Ù„ÙŠØ²Ø±', emoji: 'ğŸ‘”', category: 'autumn' }
                    ]
                },
                3: {
                    // Ù…Ø³ØªÙˆÙ‰ 3 - ØµØ¹Ø¨ (Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØµÙˆÙ„)
                    1: [
                        // Ø§Ù„ØµÙØ­Ø© 1
                        { id: 'polo_shirt', name: 'Ø¨ÙˆÙ„Ùˆ Ø´ÙŠØ±Øª', emoji: 'ğŸ‘•', category: 'summer' },
                        { id: 'bermuda', name: 'Ø¨Ø±Ù…ÙˆØ¯Ø§', emoji: 'ğŸ©³', category: 'summer' },
                        { id: 'espadrilles', name: 'Ø­Ø°Ø§Ø¡ Ù‚Ù…Ø§Ø´', emoji: 'ğŸ‘¡', category: 'summer' },
                        { id: 'hoodie', name: 'Ù‡ÙˆØ¯ÙŠ', emoji: 'ğŸ‘˜', category: 'spring' },
                        { id: 'chinos', name: 'ØªØ´ÙŠÙ†Ùˆ', emoji: 'ğŸ‘–', category: 'spring' },
                        { id: 'canvas_shoes', name: 'Ø­Ø°Ø§Ø¡ ÙƒØ§Ù†ÙØ§Ø³', emoji: 'ğŸ‘Ÿ', category: 'spring' },
                        { id: 'wool_coat', name: 'Ù…Ø¹Ø·Ù ØµÙˆÙ', emoji: 'ğŸ§¥', category: 'autumn' },
                        { id: 'turtleneck', name: 'ØªÙŠØ±ØªÙ„ Ù†ÙŠÙƒ', emoji: 'ğŸ‘”', category: 'autumn' },
                        { id: 'oxford_shoes', name: 'Ù‡Ø§Ù Ø¨ÙˆØª', emoji: 'ğŸ¥¾', category: 'autumn' },
                        { id: 'puffer_jacket', name: 'Ø¬Ø§ÙƒÙŠØª Ù…Ù†ÙÙˆØ®', emoji: 'ğŸ§¥', category: 'winter' },
                        { id: 'thermal_wear', name: 'Ù…Ù„Ø§Ø¨Ø³ Ø­Ø±Ø§Ø±ÙŠØ©', emoji: 'ğŸ©±', category: 'winter' },
                        { id: 'snow_boots', name: 'Ø¨ÙˆØª Ø«Ù„Ø¬', emoji: 'ğŸ‘¢', category: 'winter' }
                    ],
                    2: [
                        // Ø§Ù„ØµÙØ­Ø© 2
                        { id: 'summer_dress', name: 'ÙØ³ØªØ§Ù† ØµÙŠÙÙŠ', emoji: 'ğŸ‘—', category: 'summer' },
                        { id: 'swim_shorts', name: 'Ø´ÙˆØ±Øª Ø³Ø¨Ø§Ø­Ø©', emoji: 'ğŸ©³', category: 'summer' },
                        { id: 'sun_hat', name: 'Ù‚Ø¨Ø¹Ø© Ø´Ù…Ø³', emoji: 'ğŸ‘’', category: 'summer' },
                        { id: 'beach_sandals', name: 'ØµÙ†Ø¯Ù„ Ø¨Ø­Ø±', emoji: 'ğŸ‘¡', category: 'summer' },
                        { id: 'raincoat', name: 'Ù…Ø¹Ø·Ù Ù…Ø·Ø±', emoji: 'ğŸ§¥', category: 'spring' },
                        { id: 'denim_jacket', name: 'Ø¬Ø§ÙƒÙŠØª Ø¬ÙŠÙ†Ø²', emoji: 'ğŸ§¥', category: 'spring' },
                        { id: 'loafers', name: 'Ø­Ø°Ø§Ø¡ Ù„ÙˆÙØ±', emoji: 'ğŸ‘', category: 'spring' },
                        { id: 'spring_coat', name: 'Ù…Ø¹Ø·Ù Ø±Ø¨ÙŠØ¹ÙŠ', emoji: 'ğŸ§¥', category: 'spring' },
                        { id: 'tweed_jacket', name: 'Ø¬Ø§ÙƒÙŠØª ØªÙˆÙŠØ¯', emoji: 'ğŸ‘”', category: 'autumn' },
                        { id: 'knee_boots', name: 'Ø¨ÙˆØª Ù„Ù„Ø±ÙƒØ¨Ø©', emoji: 'ğŸ‘¢', category: 'autumn' },
                        { id: 'flannel_shirt', name: 'Ù‚Ù…ÙŠØµ ÙØ§Ù†ÙŠÙ„Ø§', emoji: 'ğŸ‘”', category: 'autumn' },
                        { id: 'autumn_scarf', name: 'Ø´Ø§Ù„ Ø®Ø±ÙŠÙÙŠ', emoji: 'ğŸ§£', category: 'autumn' },
                        { id: 'parka', name: 'Ø¨Ø§Ø±ÙƒØ§', emoji: 'ğŸ§¥', category: 'winter' },
                        { id: 'ugg_boots', name: 'Ø¨ÙˆØª ÙØ±Ùˆ', emoji: 'ğŸ‘¢', category: 'winter' },
                        { id: 'wool_sweater', name: 'Ø³ÙˆÙŠØªØ± ØµÙˆÙ', emoji: 'ğŸ‘˜', category: 'winter' },
                        { id: 'ear_muffs', name: 'ØºØ·Ø§Ø¡ Ø£Ø°Ù†', emoji: 'ğŸ§', category: 'winter' }
                    ]
                }
            };

            const categories = {
                summer: { name: 'ØµÙŠÙ â˜€ï¸', style: 'background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%); border-color: #f39c12;', icon: 'â˜€ï¸' },
                winter: { name: 'Ø´ØªØ§Ø¡ â„ï¸', style: 'background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); border-color: #3498db;', icon: 'â„ï¸' },
                spring: { name: 'Ø±Ø¨ÙŠØ¹ ğŸŒ¸', style: 'background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%); border-color: #2ecc71;', icon: 'ğŸŒ¸' },
                autumn: { name: 'Ø®Ø±ÙŠÙ ğŸ‚', style: 'background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); border-color: #e74c3c;', icon: 'ğŸ‚' }
            };

            // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
            let currentLevel = 1;
            let currentPage = 1;
            let currentScore = 0;
            let totalScore = parseInt(localStorage.getItem('clothesGameTotalScore') || '0');
            let completedLevels = JSON.parse(localStorage.getItem('clothesGameCompletedLevels') || '[]');
            let placedItems = {};
            let draggedItem = null;

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
            document.getElementById('totalScoreDisplay').textContent = totalScore;

            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©
            completedLevels.forEach((level) => {
                document.getElementById(`level${level}Complete`).style.display = 'block';
                if (level < 3) {
                    const nextLevelCard = document.querySelector(`[data-level="${level + 1}"]`);
                    nextLevelCard.classList.remove('locked');
                    nextLevelCard.querySelectorAll('.page-btn').forEach((btn) => (btn.disabled = false));
                    nextLevelCard.querySelector('div[style*="ğŸ”’"]').style.display = 'none';
                }
            });

            // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØµÙˆØª
            function playCorrectSound() {
                try {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();

                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);

                    oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
                    oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1); // E5
                    oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2); // G5

                    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.4);

                    oscillator.start();
                    oscillator.stop(audioContext.currentTime + 0.4);
                } catch (error) {
                    console.log('Audio not supported');
                }
            }

            function playIncorrectSound() {
                try {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();

                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);

                    oscillator.frequency.setValueAtTime(220, audioContext.currentTime); // A3
                    oscillator.frequency.setValueAtTime(196, audioContext.currentTime + 0.2); // G3

                    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.6);

                    oscillator.start();
                    oscillator.stop(audioContext.currentTime + 0.6);
                } catch (error) {
                    console.log('Audio not supported');
                }
            }

            function playCelebrationSound() {
                try {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const notes = [523.25, 659.25, 783.99, 1046.5]; // C5, E5, G5, C6

                    notes.forEach((frequency, index) => {
                        const oscillator = audioContext.createOscillator();
                        const gainNode = audioContext.createGain();

                        oscillator.connect(gainNode);
                        gainNode.connect(audioContext.destination);

                        oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime + index * 0.2);
                        gainNode.gain.setValueAtTime(0.2, audioContext.currentTime + index * 0.2);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + index * 0.2 + 0.3);

                        oscillator.start(audioContext.currentTime + index * 0.2);
                        oscillator.stop(audioContext.currentTime + index * 0.2 + 0.3);
                    });
                } catch (error) {
                    console.log('Audio not supported');
                }
            }

            // Ø¯ÙˆØ§Ù„ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            function startLevel(level, page) {
                currentLevel = level;
                currentPage = page;
                currentScore = 0;
                placedItems = {};

                document.getElementById('mainMenu').style.display = 'none';
                document.getElementById('gameScreen').style.display = 'block';
                document.getElementById('pageCompleteScreen').style.display = 'none';
                document.getElementById('levelCompleteScreen').style.display = 'none';

                setupGame();
            }

            function setupGame() {
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙÙŠ Ø§Ù„Ù‡ÙŠØ¯Ø±
                const levelNames = {
                    1: 'Ù…Ø³ØªÙˆÙ‰ Ø³Ù‡Ù„ - ØµÙŠÙ ÙˆØ´ØªØ§Ø¡',
                    2: 'Ù…Ø³ØªÙˆÙ‰ Ù…ØªÙˆØ³Ø· - Ø±Ø¨ÙŠØ¹ ÙˆØ®Ø±ÙŠÙ',
                    3: 'Ù…Ø³ØªÙˆÙ‰ ØµØ¹Ø¨ - Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØµÙˆÙ„'
                };

                const levelBadge = document.getElementById('levelBadge');
                levelBadge.textContent = levelNames[currentLevel];
                levelBadge.className = `level-badge level-${currentLevel}`;

                document.getElementById('pageInfo').textContent = `Ø§Ù„ØµÙØ­Ø© ${currentPage}/2`;
                document.getElementById('currentScore').textContent = currentScore;

                // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„
                document.getElementById('prevPageBtn').disabled = currentPage === 1;
                document.getElementById('nextPageBtn').disabled = currentPage === 2;

                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª
                let challengeText = '';
                if (currentLevel === 3 && currentPage === 2) {
                    challengeText = ' - Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ!';
                }
                document.getElementById('instructionText').innerHTML = `ğŸ¯ ${levelNames[currentLevel]} - Ø§Ù„ØµÙØ­Ø© ${currentPage}${challengeText}<br/>Ø§Ø³Ø­Ø¨ ÙƒÙ„ Ù‚Ø·Ø¹Ø© Ù…Ù„Ø§Ø¨Ø³ Ø¥Ù„Ù‰ Ø§Ù„ÙØµÙ„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ â€¢ ÙƒÙ„ Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø© = 10 Ù†Ù‚Ø§Ø·`;

                setupClothes();
                setupCategories();
                updateProgress();
            }

            function setupClothes() {
                const clothesGrid = document.getElementById('clothesGrid');
                clothesGrid.innerHTML = '';
                clothesGrid.className = `clothes-grid level-${currentLevel}`;

                const clothes = clothesData[currentLevel][currentPage];

                clothes.forEach((item) => {
                    const clothesDiv = document.createElement('div');
                    clothesDiv.className = 'clothes-item';
                    clothesDiv.draggable = true;
                    clothesDiv.id = item.id;
                    clothesDiv.innerHTML = `
                    <span class="clothes-emoji">${item.emoji}</span>
                    <span class="clothes-name">${item.name}</span>
                `;

                    clothesDiv.addEventListener('dragstart', (e) => {
                        draggedItem = item;
                        clothesDiv.classList.add('dragging');
                        e.dataTransfer.effectAllowed = 'move';
                    });

                    clothesDiv.addEventListener('dragend', () => {
                        clothesDiv.classList.remove('dragging');
                    });

                    clothesGrid.appendChild(clothesDiv);
                });
            }

            function setupCategories() {
                const categoriesArea = document.getElementById('categoriesArea');
                categoriesArea.innerHTML = '';

                let levelCategories = [];
                if (currentLevel === 1) {
                    levelCategories = ['summer', 'winter'];
                } else if (currentLevel === 2) {
                    levelCategories = ['spring', 'autumn'];
                } else if (currentLevel === 3) {
                    levelCategories = ['summer', 'spring', 'autumn', 'winter'];
                }

                levelCategories.forEach((categoryKey) => {
                    const category = categories[categoryKey];
                    const categoryDiv = document.createElement('div');
                    categoryDiv.className = 'category-box';
                    categoryDiv.style.cssText = category.style;
                    categoryDiv.id = `category-${categoryKey}`;

                    categoryDiv.innerHTML = `
                    <div class="category-header">
                        <span class="category-icon">${category.icon}</span>
                        <div class="category-name">${category.name}</div>
                        <div class="category-hint">ğŸ”Š Ø§Ø³Ø­Ø¨ Ù‡Ù†Ø§</div>
                    </div>
                    <div id="placed-${categoryKey}" class="placed-items"></div>
                    <div id="empty-${categoryKey}" class="empty-category">
                        Ø§Ø³Ø­Ø¨ Ù…Ù„Ø§Ø¨Ø³ ${category.name} Ù‡Ù†Ø§
                    </div>
                `;

                    categoryDiv.addEventListener('dragover', (e) => {
                        e.preventDefault();
                        categoryDiv.classList.add('drag-over');
                    });

                    categoryDiv.addEventListener('dragleave', () => {
                        categoryDiv.classList.remove('drag-over');
                    });

                    categoryDiv.addEventListener('drop', (e) => {
                        e.preventDefault();
                        categoryDiv.classList.remove('drag-over');
                        handleDrop(categoryKey);
                    });

                    categoriesArea.appendChild(categoryDiv);
                });
            }

            function handleDrop(targetCategory) {
                if (!draggedItem) return;

                if (draggedItem.category === targetCategory) {
                    // Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©
                    playCorrectSound();
                    currentScore += 10;
                    document.getElementById('currentScore').textContent = currentScore;

                    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù†ØµØ± Ø¥Ù„Ù‰ Ø§Ù„ÙØ¦Ø©
                    const placedArea = document.getElementById(`placed-${targetCategory}`);
                    const emptyArea = document.getElementById(`empty-${targetCategory}`);

                    const placedItem = document.createElement('div');
                    placedItem.className = 'placed-item';
                    placedItem.innerHTML = `
                    <span class="placed-item-emoji">${draggedItem.emoji}</span>
                    <span class="placed-item-name">${draggedItem.name}</span>
                `;

                    placedArea.appendChild(placedItem);
                    emptyArea.style.display = 'none';

                    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù†ØµØ± Ù…Ù† Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ù„Ø§Ø¨Ø³
                    document.getElementById(draggedItem.id).remove();

                    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„ØµÙØ­Ø©
                    checkPageComplete();
                } else {
                    // Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©
                    playIncorrectSound();
                    const categoryDiv = document.getElementById(`category-${targetCategory}`);
                    categoryDiv.classList.add('shake');
                    setTimeout(() => categoryDiv.classList.remove('shake'), 500);
                }

                draggedItem = null;
                updateProgress();
            }

            function updateProgress() {
                const totalItems = clothesData[currentLevel][currentPage].length;
                const remainingItems = document.getElementById('clothesGrid').children.length;
                const placedCount = totalItems - remainingItems;
                const progress = Math.round((placedCount / totalItems) * 100);

                document.getElementById('progressText').textContent = `${progress}%`;
                document.getElementById('progressFill').style.width = `${progress}%`;

                if (remainingItems === 0) {
                    document.getElementById('emptyMessage').style.display = 'block';
                }
            }

            function checkPageComplete() {
                const remainingItems = document.getElementById('clothesGrid').children.length;

                if (remainingItems === 0) {
                    setTimeout(() => {
                        if (currentPage === 2) {
                            // Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ù…Ø³ØªÙˆÙ‰
                            completeLevel();
                        } else {
                            // Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„ØµÙØ­Ø©
                            completePage();
                        }
                    }, 1000);
                }
            }

            function completePage() {
                document.getElementById('pageCompleteText').textContent = `Ø£ÙƒÙ…Ù„Øª Ø§Ù„ØµÙØ­Ø© ${currentPage} Ù…Ù† Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${currentLevel}`;
                document.getElementById('pageScore').textContent = currentScore;
                document.getElementById('gameScreen').style.display = 'none';
                document.getElementById('pageCompleteScreen').style.display = 'block';
            }

            function completeLevel() {
                playCelebrationSound();

                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©
                if (!completedLevels.includes(currentLevel)) {
                    completedLevels.push(currentLevel);
                    localStorage.setItem('clothesGameCompletedLevels', JSON.stringify(completedLevels));
                }

                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©
                totalScore += currentScore;
                localStorage.setItem('clothesGameTotalScore', totalScore.toString());

                // Ø¹Ø±Ø¶ Ø´Ø§Ø´Ø© Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ù…Ø³ØªÙˆÙ‰
                const levelNames = {
                    1: 'Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø³Ù‡Ù„',
                    2: 'Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…ØªÙˆØ³Ø·',
                    3: 'Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹Ø¨'
                };

                document.getElementById('levelCompleteText').textContent = `Ø£ÙƒÙ…Ù„Øª ${levelNames[currentLevel]} Ø¨Ù†Ø¬Ø§Ø­!`;
                document.getElementById('levelScore').textContent = currentScore;

                // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ØªØ§Ø­Ø§Ù‹
                if (currentLevel < 3) {
                    document.getElementById('nextLevelBtn').style.display = 'inline-flex';
                } else {
                    document.getElementById('nextLevelBtn').style.display = 'none';
                }

                document.getElementById('gameScreen').style.display = 'none';
                document.getElementById('levelCompleteScreen').style.display = 'block';
            }

            function goToNextPage() {
                currentPage++;
                currentScore = 0;
                placedItems = {};
                document.getElementById('pageCompleteScreen').style.display = 'none';
                document.getElementById('gameScreen').style.display = 'block';
                setupGame();
            }

            function goToNextLevel() {
                currentLevel++;
                currentPage = 1;
                currentScore = 0;
                placedItems = {};
                document.getElementById('levelCompleteScreen').style.display = 'none';
                document.getElementById('gameScreen').style.display = 'block';
                setupGame();
            }

            function changePage(direction) {
                const newPage = currentPage + direction;
                if (newPage >= 1 && newPage <= 2) {
                    currentPage = newPage;
                    currentScore = 0;
                    placedItems = {};
                    setupGame();
                }
            }

            function backToMenu() {
                document.getElementById('gameScreen').style.display = 'none';
                document.getElementById('pageCompleteScreen').style.display = 'none';
                document.getElementById('levelCompleteScreen').style.display = 'none';
                document.getElementById('mainMenu').style.display = 'block';

                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©
                document.getElementById('totalScoreDisplay').textContent = totalScore;

                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©
                completedLevels.forEach((level) => {
                    document.getElementById(`level${level}Complete`).style.display = 'block';
                    if (level < 3) {
                        const nextLevelCard = document.querySelector(`[data-level="${level + 1}"]`);
                        nextLevelCard.classList.remove('locked');
                        nextLevelCard.querySelectorAll('.page-btn').forEach((btn) => (btn.disabled = false));
                        const lockIcon = nextLevelCard.querySelector('div[style*="ğŸ”’"]');
                        if (lockIcon) lockIcon.style.display = 'none';
                    }
                });
            }

            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
            document.addEventListener('DOMContentLoaded', () => {
                // Ù…Ù†Ø¹ Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ù…ØªØµÙØ­
                document.addEventListener('dragover', (e) => {
                    e.preventDefault();
                });

                document.addEventListener('drop', (e) => {
                    e.preventDefault();
                });

                // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù„Ù„Ù…Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰
                console.log('Ù„Ø¹Ø¨Ø© ØªØµÙ†ÙŠÙ Ø§Ù„Ù…Ù„Ø§Ø¨Ø³ Ø¬Ø§Ù‡Ø²Ø©!');
            });
        </script>
    </body>
</html>
