<div class="container">
    <div class="card" *ngIf="questions.length > 0">
        <div class="card-header">
            <h2>{{currentDomain}}</h2>
        </div>
        <p-toolbar class="" *ngFor="let question of questions; let i = index">
            <!-- <div class="question-number">{{ i + 1 }}</div> -->
            <ng-template #start>
                <div>
                    <p class="text-xl font-medium">{{ question.q }}</p>
                    <p *ngIf="question.th" class="mt-2 text-gray-600">
                        {{ question.th }}
                    </p>
                </div>
            </ng-template>

            <ng-template #end>
                <button class="answer-btn ml-2" [class.selected]="question.ans === 'yes'" (click)="selectAnswer(i, 'yes')">نعم</button>
                <button class="answer-btn" [class.selected]="question.ans === 'no'" (click)="selectAnswer(i, 'no')">لا</button>
            </ng-template>
        </p-toolbar>

        <div class="submit-section">
            <button pButton class="submit-btn" (click)="nextAgeRange()" [class.disabled]="disableSubmit() || isLoading" [loading]="isLoading">التالي</button>
        </div>
    </div>

    <div class="loading" *ngIf="questions.length === 0">
        <p>جاري تحميل الأسئلة...</p>
        <button (click)="getAgeRangeBlockQuestions()">تحميل الأسئلة</button>
    </div>
</div>
